{"nom_fichier": "ui.py", "code": "import random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Listes de mots à deviner\nmots_difficultes_faciles = ['apple', 'table', 'chair']\nmots_difficultes_moyennes = ['ordinateur', 'telephone', 'bibliotheque']\nmots_difficultes_difficiles = ['philosophie', 'psychanalyse', 'astronomie']\n\n# État du jeu\nlettres_utilisees = []\nmots_devine = []\nscore = 0\n\n@app.route('/', methods=['GET', 'POST'])\ndef jeu():\n    global lettres_utilisees, mots_devine, score\n    \n    # Génération du mot à deviner\n    if request.method == 'POST':\n        mots_devine = random.choice([mots_difficultes_faciles, mots_difficultes_moyennes, mots_difficultes_difficiles])[0]\n        lettres_utilisees = []\n        score = 0\n    else:\n        # Saisie de lettres\n        lettre = request.form.get('lettre')\n        \n        # Vérification de la lettre\n        if lettre in mots_devine and lettre not in lettres_utilisees:\n            score += 1\n        elif lettre not in mots_devine and lettre not in lettres_utilisees:\n            lettres_utilisees.append(lettre)\n            score -= 1\n        \n        # Vérification de la fin du jeu\n        if '_' not in mots_devine:\n            return render_template('fin_jeu.html', score=score)\n    \n    # Affichage du tableau de jeu\n    template_data = {\n        'mots_devine': ['_' * len(mot) for mot in mots_devine],\n        'lettres_utilisees': lettres_utilisees,\n        'score': score\n    }\n    \n    return render_template('jeu.html', **template_data)\n\n@app.route('/fin_jeu')\ndef fin_jeu():\n    return render_template('fin_jeu.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831491.1523125}