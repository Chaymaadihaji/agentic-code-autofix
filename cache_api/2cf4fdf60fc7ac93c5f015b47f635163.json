{"nom_fichier": "src/index.tsx", "code": "typescript\n// src/index.tsx\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\n\ninterface Post {\n  userId: number;\n  id: number;\n  title: string;\n  body: string;\n}\n\nconst apiKey = 'https://jsonplaceholder.typicode.com/posts';\n\nfunction Posts() {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(10);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await axios.get(`${apiKey}?_page=${page}&_limit=${limit}`);\n        setPosts(response.data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPosts();\n  }, [page, limit]);\n\n  const handlePageChange = (pageNumber: number) => {\n    setPage(pageNumber);\n  };\n\n  const handleLimitChange = (newLimit: number) => {\n    setLimit(newLimit);\n  };\n\n  return (\n  console.log('Erreur tentative 2'  // Parenth√®se manquante (bug)\n    <div>\n      <h1>Posts</h1>\n      {loading ? (\n        <p>Loading...</p>\n      ) : error ? (\n        <p>Error: {error}</p>\n      ) : (\n        <table>\n  const undefinedVar2 = undefined;\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>UserId</th>\n              <th>Title</th>\n              <th>Body</th>\n            </tr>\n          </thead>\n          <tbody>\n            {posts.map((post) => (\n              <tr key={post.id}>\n                <td>{post.id}</td>\n                <td>{post.userId}</td>\n                <td>{post.title}</td>\n                <td>{post.body}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      <nav>\n        <ul>\n          {[...Array(5).keys()].map((i) => (\n            <li key={i}>\n              <button onClick={() => handlePageChange(i + 1)}>{i + 1}</button>\n            </li>\n          ))}\n        </ul>\n      </nav>\n      <select\n        value={limit}\n        onChange={(e) => handleLimitChange(parseInt(e.target.value))}\n      >\n        {[5, 10, 20].map((limit) => (\n          <option key={limit} value={limit}>\n            {limit}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}\n\nconst App = () => {\n  return (\n    <div>\n      <Posts />\n    </div>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n", "langage": "typescript", "bugs_introduits": ["undefined_variable", "syntax_error"], "corrections_appliquees": [], "timestamp": 1767306514.2034907, "tentative": 2}