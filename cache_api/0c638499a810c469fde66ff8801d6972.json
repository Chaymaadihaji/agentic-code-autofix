{"nom_fichier": "dashboard.py", "code": "# dashboard.py\n\nimport os\nimport json\nimport requests\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom flask import Flask, render_template\n\napp = Flask(__name__)\n\n# URL de l'API météo\nAPI_URL = 'http://api.openweathermap.org/data/2.5/weather'\n\n# Ville de référence\nVILLE = 'Paris'\n\n# Paramètres de requête\nPARAMS = {\n    'q': VILLE,\n    'appid': 'votre_api_key',\n    'units': 'metric'\n}\n\n# Fonction pour récupérer les données météo en temps réel\ndef get_meteo_data():\n    response = requests.get(API_URL, params=PARAMS)\n    return response.json()\n\n# Fonction pour calculer les statistiques/métriques\ndef calcul_statistiques(meteo_data):\n    temp = meteo_data['main']['temp']\n    hum = meteo_data['main']['humidity']\n    return {\n        'temp': temp,\n        'hum': hum\n    }\n\n# Fonction pour générer les graphiques\ndef generer_graphiques(meteo_data):\n    temps = [meteo_data['main']['temp']]\n    hum = [meteo_data['main']['humidity']]\n    plt.plot(temps, label='Température')\n    plt.plot(hum, label='Humidité')\n    plt.legend()\n    plt.show()\n\n# Fonction pour afficher les cartes météo\ndef afficher_cartes(meteo_data):\n    carte = f\"\"\"\n    <div class=\"card\">\n        <h5 class=\"card-title\">Carte météo</h5>\n        <div class=\"card-body\">\n            <p class=\"card-text\">Température : {meteo_data['main']['temp']}°C</p>\n            <p class=\"card-text\">Humidité : {meteo_data['main']['humidity']}%</p>\n        </div>\n    </div>\n    \"\"\"\n    return carte\n\n# Route pour afficher les données météo en temps réel\n@app.route('/')\ndef index():\n    meteo_data = get_meteo_data()\n    statistiques = calcul_statistiques(meteo_data)\n    carte = afficher_cartes(meteo_data)\n    return render_template('index.html', statistiques=statistiques, carte=carte)\n\n# Route pour afficher les prévisions météo\n@app.route('/previsions')\ndef previsions():\n    return 'Prévisions météo'\n\n# Route pour afficher les cartes météo\n@app.route('/cartes')\ndef cartes():\n    return 'Cartes météo'\n\n# Fonction de démarrage\ndef start_app():\n    app.run(debug=True)\n\nif __name__ == \"__main__\":\n    start_app()\n", "timestamp": 1766829853.6660144}