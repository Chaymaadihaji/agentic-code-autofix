{"nom_fichier": "dashboard.py", "code": "# dashboard.py\n\nimport json\nimport statistics\nimport random\nfrom flask import Flask, render_template, jsonify\nimport matplotlib.pyplot as plt\nimport numpy as np\n\napp = Flask(__name__)\n\n# Génération de données pour le dashboard\ndata_meteo = {\n    \"temperature\": [25, 28, 22, 26, 20],\n    \"humidite\": [60, 80, 70, 90, 50],\n    \"vent\": [10, 20, 15, 25, 12]\n}\n\n# Calcul des statistiques/métriques\ndef calcul_statistiques(data):\n    temp_moyenne = statistics.mean(data[\"temperature\"])\n    humidite_moyenne = statistics.mean(data[\"humidite\"])\n    vent_moyen = statistics.mean(data[\"vent\"])\n    return temp_moyenne, humidite_moyenne, vent_moyen\n\ntemp_moyenne, humidite_moyenne, vent_moyen = calcul_statistiques(data_meteo)\n\n# API pour les données en temps réel\n@app.route(\"/donnees-temps-reel\", methods=[\"GET\"])\ndef donnees_temps_reel():\n    return jsonify(data_meteo)\n\n# Route pour l'affichage des données météo en temps réel\n@app.route(\"/donnees-meteo\")\ndef donnees_meteo():\n    return render_template(\"donnees_meteo.html\", data=data_meteo)\n\n# Route pour l'affichage des prévisions météo\n@app.route(\"/previsions-meteo\")\ndef previsions_meteo():\n    return render_template(\"previsions_meteo.html\", data=data_meteo)\n\n# Route pour l'affichage des cartes météo\n@app.route(\"/cartes-meteo\")\ndef cartes_meteo():\n    return render_template(\"cartes_meteo.html\", data=data_meteo)\n\n# Route pour l'affichage des graphiques météo\n@app.route(\"/graphiques-meteo\")\ndef graphiques_meteo():\n    plt.plot(data_meteo[\"temperature\"], label=\"Température\")\n    plt.plot(data_meteo[\"humidite\"], label=\"Humidité\")\n    plt.plot(data_meteo[\"vent\"], label=\"Vent\")\n    plt.legend()\n    plt.show()\n    return \"Graphiques météo\"\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766829777.0105317}