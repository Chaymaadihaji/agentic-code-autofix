{"nom_fichier": "README.md", "code": "from flask import Flask, render_template, request, redirect, url_for\nfrom flask_sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database.db'\ndb = SQLAlchemy(app)\n\nclass Patient(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(100), nullable=False)\n    surname = db.Column(db.String(100), nullable=False)\n    birthdate = db.Column(db.Date, nullable=False)\n\nclass MedicalHistory(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    patient_id = db.Column(db.Integer, db.ForeignKey('patient.id'), nullable=False)\n    date = db.Column(db.Date, nullable=False)\n    description = db.Column(db.Text, nullable=False)\n\nclass Prescription(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    patient_id = db.Column(db.Integer, db.ForeignKey('patient.id'), nullable=False)\n    date = db.Column(db.Date, nullable=False)\n    description = db.Column(db.Text, nullable=False)\n\nclass Appointment(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    patient_id = db.Column(db.Integer, db.ForeignKey('patient.id'), nullable=False)\n    date = db.Column(db.Date, nullable=False)\n    time = db.Column(db.Time, nullable=False)\n\nclass Medicament(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(100), nullable=False)\n    description = db.Column(db.Text, nullable=False)\n\nclass Alert(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    patient_id = db.Column(db.Integer, db.ForeignKey('patient.id'), nullable=False)\n    medicament_id = db.Column(db.Integer, db.ForeignKey('medicament.id'), nullable=False)\n    date = db.Column(db.Date, nullable=False)\n\n@app.route('/')\ndef index():\n    patients = Patient.query.all()\n    return render_template('index.html', patients=patients)\n\n@app.route('/patient/<int:patient_id>')\ndef patient(patient_id):\n    patient = Patient.query.get(patient_id)\n    medical_history = MedicalHistory.query.filter_by(patient_id=patient_id).all()\n    prescriptions = Prescription.query.filter_by(patient_id=patient_id).all()\n    appointments = Appointment.query.filter_by(patient_id=patient_id).all()\n    alerts = Alert.query.filter_by(patient_id=patient_id).all()\n    return render_template('patient.html', patient=patient, medical_history=medical_history, prescriptions=prescriptions, appointments=appointments, alerts=alerts)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n", "timestamp": 1766766417.2781527}