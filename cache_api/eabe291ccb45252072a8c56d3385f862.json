{"nom_fichier": "ui.py", "code": "# ui.py\nfrom flask import Flask, render_template, request\nimport random\nimport json\n\napp = Flask(__name__)\n\n# Fichier JSON contenant les mots pour le jeu\nmots_json = 'mots.json'\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    with open(mots_json, 'r') as f:\n        mots = json.load(f)\n    return random.choice(list(mots.keys()))\n\n# Fonction pour traiter les données du formulaire\ndef traiter_formulaire(lettre):\n    mot = word\n    tentatives = attempts\n    if lettre in mot:\n        return {'mot': mot, 'tentatives': tentatives, 'etat': 'correct'}\n    else:\n        return {'mot': mot, 'tentatives': tentatives - 1, 'etat': 'incorrect'}\n\n# Initialisation du jeu\nword = generer_mot()\nattempts = 6\n\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    global word, attempts\n    if request.method == 'POST':\n        lettre = request.form['lettre']\n        result = traiter_formulaire(lettre)\n        word = result['mot']\n        attempts = result['tentatives']\n        if result['etat'] == 'correct':\n            return render_template('index.html', mot=result['mot'], tentatives=result['tentatives'])\n        elif result['tentatives'] == 0:\n            return render_template('game_over.html', mot=result['mot'])\n    return render_template('index.html', mot=word, tentatives=attempts)\n\n@app.route('/game_over')\ndef game_over():\n    return render_template('game_over.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861738.4422874}