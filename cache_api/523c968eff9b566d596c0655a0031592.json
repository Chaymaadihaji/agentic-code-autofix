{"nom_fichier": "player.py", "code": "import random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Données pour le jeu du pendu\nmots = [\"papillon\", \"tigre\", \"ours\", \"éléphant\", \"lion\"]\nscore = 0\ntentatives = 4\netat_jeu = {\n    \"mot\": \"\",\n    \"tentatives\": tentatives,\n    \"score\": score\n}\n\n# Chargement du mot au hasard\ndef charger_mot():\n    global mot\n    mot = random.choice(mots)\n    etat_jeu[\"mot\"] = \"*\" * len(mot)\n\n# Logique de jeu\ndef jouer(lettre):\n    global tentatives, score\n    if lettre in mot:\n        etat_jeu[\"mot\"] = \"\".join([c if c == lettre else \"*\" for c in mot])\n        if \"*\" not in etat_jeu[\"mot\"]:\n            score += 1\n            tentatives = 4\n    else:\n        tentatives -= 1\n    etat_jeu[\"tentatives\"] = tentatives\n\n# Interface Flask\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", etat_jeu=etat_jeu)\n\n@app.route(\"/jouer\", methods=[\"POST\"])\ndef jouer_action():\n    lettre = request.form[\"lettre\"]\n    jouer(lettre)\n    return render_template(\"index.html\", etat_jeu=etat_jeu)\n\n@app.route(\"/reset\")\ndef reset():\n    global score, tentatives, mot\n    score = 0\n    tentatives = 4\n    mot = \"\"\n    charger_mot()\n    return render_template(\"index.html\", etat_jeu=etat_jeu)\n\nif __name__ == \"__main__\":\n    charger_mot()\n    app.run(debug=True)\n", "timestamp": 1766861932.7237382}