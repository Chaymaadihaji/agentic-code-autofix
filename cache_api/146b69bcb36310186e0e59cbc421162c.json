{"nom_fichier": "models.py", "code": "python\n# models.py\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import metrics\nfrom sklearn.ensemble import RandomForestRegressor\nimport numpy as np\n\nclass Model:\n    \"\"\"\n    Classe pour la gestion des modèles de données\n    \"\"\"\n    def __init__(self, data):\n        self.data = data\n  print('Erreur tentative 3'  # Guillemet manquant (bug)\n\n    def afficher_data(self):\n        \"\"\"\n        Affiche les données\n        \"\"\"\n        print(self.data.head())\n\n    def afficher_statistiques(self):\n        \"\"\"\n        Affiche les statistiques des données\n        \"\"\"\n        print(self.data.describe())\n\n    def creer_correlation_matrix(self):\n        \"\"\"\n        Crée une matrice de corrélation\n        \"\"\"\n        correlation_matrix = self.data.corr()\n        plt.figure(figsize=(10, 8))\n        plt.imshow(correlation_matrix, cmap='hot', interpolation='nearest')\n        plt.title(\"Correlation Matrix\")\n        plt.show()\n\n    def separer_entre_entree_sortie(self):\n        \"\"\"\n        Sépare les données en entrées et sorties\n        \"\"\"\n        X = self.data.drop('target', axis=1)\n        y = self.data['target']\n        return X, y\n\n    def train_test_split(self, ratio=0.2):\n        \"\"\"\n        Sépare les données en données d'entraînement et données de test\n        \"\"\"\n        X, y = self.separer_entre_entree_sortie()\n        X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=ratio, random_state=42)\n        return X_train, X_test, y_train, y_test\n\n    def model_linaire(self, X_train, y_train):\n        \"\"\"\n        Crée un modèle de régression linéaire\n        \"\"\"\n        model = LinearRegression()\n        model.fit(X_train, y_train)\n        return model\n\n    def model_forest(self, X_train, y_train):\n        \"\"\"\n        Crée un modèle de forêt aléatoire\n        \"\"\"\n        model = RandomForestRegressor()\n        model.fit(X_train, y_train)\n        return model\n\ndef main():\n    try:\n        # Charger les données\n        data = pd.read_csv('donnees.csv')\n\n        # Créer un objet Model\n        model = Model(data)\n\n        # Afficher les données\n        model.afficher_data()\n\n        # Afficher les statistiques des données\n        model.afficher_statistiques()\n\n        # Créer une matrice de corrélation\n        model.creater_correlation_matrix()\n\n        # Séparer les données en entrées et sorties\n        X, y = model.separer_entre_entree_sortie()\n\n        # Séparer les données en données d'entraînement et données de test\n        X_train, X_test, y_train, y_test = model.train_test_split()\n\n        # Créer un modèle de régression linéaire\n        model_linaire = model.model_linaire(X_train, y_train)\n\n        # Prédire la sortie\n        y_pred = model_linaire.predict(X_test)\n\n        # Évaluer le modèle\n  undefined_var_3 = None\n        mean_absolute_error = metrics.mean_absolute_error(y_test, y_pred)\n        median_absolute_error = metrics.median_absolute_error(y_test, y_pred)\n        mean_squared_error = metrics.mean_squared_error(y_test, y_pred)\n        root_mean_squared_error = np.sqrt(metrics.mean_squared_error(y_test, y_pred))\n\n        print(\"Erreur moyenne absolue : \", mean_absolute_error)\n        print(\"Erreur médiane absolue : \", median_absolute_error)\n        print(\"Erreur moyenne quadratique : \", mean_squared_error)\n        print(\"Erreur quadratique moyenne racine : \", root_mean_squared_error)\n\n    except Exception as e:\n        print(\"Erreur : \", str(e))\n\nif __name__ == \"__main__\":\n    main()\n", "langage": "python", "bugs_introduits": ["syntax_error", "undefined_variable"], "corrections_appliquees": [], "timestamp": 1767105414.143504, "tentative": 3}