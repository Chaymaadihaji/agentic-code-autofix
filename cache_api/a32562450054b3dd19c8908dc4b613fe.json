{"nom_fichier": "ui.py", "code": "from flask import Flask, render_template, request\nimport json\nimport random\n\napp = Flask(__name__)\n\n# Données en mémoire\nscores = {\n    'jeux_gagnés': 0,\n    'jeux_perdus': 0,\n    'jeux_nuls': 0\n}\nhistorique = []\n\n# Fonction pour jouer un jeu\ndef jouer_jeu(user, ordi):\n    if user == 'pierre' and ordi == 'ciseaux':\n        return 'gagné'\n    elif user == 'pierre' and ordi == 'papier':\n        return 'perdu'\n    elif user == 'pierre' and ordi == 'pierre':\n        return 'nul'\n    elif user == 'papier' and ordi == 'pierre':\n        return 'gagné'\n    elif user == 'papier' and ordi == 'ciseaux':\n        return 'perdu'\n    elif user == 'papier' and ordi == 'papier':\n        return 'nul'\n    elif user == 'ciseaux' and ordi == 'papier':\n        return 'gagné'\n    elif user == 'ciseaux' and ordi == 'pierre':\n        return 'perdu'\n    elif user == 'ciseaux' and ordi == 'ciseaux':\n        return 'nul'\n\n# Fonction pour gérer les scores\ndef gérer_scores(resultat):\n    global scores\n    if resultat == 'gagné':\n        scores['jeux_gagnés'] += 1\n    elif resultat == 'perdu':\n        scores['jeux_perdus'] += 1\n    elif resultat == 'nul':\n        scores['jeux_nuls'] += 1\n    historique.append(resultat)\n\n# Fonction pour générer une carte aléatoire\ndef generer_ordi():\n    retour = random.choice(['pierre', 'papier', 'ciseaux'])\n    return retour\n\n# Route pour jouer un jeu\n@app.route('/jouer', methods=['POST'])\ndef jouer():\n    user = request.form['user']\n    ordi = generer_ordi()\n    resultat = jouer_jeu(user, ordi)\n    gérer_scores(resultat)\n    return 'Vous avez joué ' + user + ' contre ' + ordi + '. Le résultat est ' + resultat + '.'\n\n# Route pour afficher les scores\n@app.route('/scores')\ndef scores():\n    return render_template('scores.html', scores=scores)\n\n# Route pour afficher l'historique\n@app.route('/historique')\ndef historique():\n    return render_template('historique.html', historique=historique)\n\n# Route pour afficher l'écran de jeu\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766748982.1905496}