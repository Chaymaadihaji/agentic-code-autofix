{"nom_fichier": "models.py", "code": "# models.py\n\nimport os\nfrom flask import Flask, render_template, jsonify\nfrom random import choice\nimport json\n\napp = Flask(__name__)\n\n# Chemin du fichier JSON contenant les citations\nCITATIONS_FILE = 'citations.json'\n\n# Chargement des citations depuis le fichier JSON\nwith open(CITATIONS_FILE, 'r') as f:\n    citations = json.load(f)\n\n# Fonction pour générer une citation aléatoire\ndef generate_citation():\n    return choice(citations)\n\n# Route pour afficher la citation aléatoire\n@app.route('/')\ndef index():\n    citation = generate_citation()\n    return render_template('index.html', citation=citation)\n\n# Route pour générer une nouvelle citation (API)\n@app.route('/citation', methods=['GET'])\ndef new_citation():\n    citation = generate_citation()\n    return jsonify({'citation': citation})\n\nif __name__ == \"__main__\":\n    port = int(os.environ.get('PORT', 5000))\n    app.run(host='0.0.0.0', port=port)\n", "timestamp": 1766332550.9879391}