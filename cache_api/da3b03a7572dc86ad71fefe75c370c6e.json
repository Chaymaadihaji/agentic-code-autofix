{"nom_fichier": "src/App.tsx", "code": "```typescript\n// src/App.tsx\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { ProjectProvider } from './contexts/ProjectContext';\nimport { NotificationProvider } from './contexts/NotificationContext';\nimport AppRouter from './routers/AppRouter';\nimport './styles/index.css';\n\ninterface Props {}\n\nconst App: React.FC<Props> = () => {\n  return (\n    <AuthProvider>\n      <ProjectProvider>\n        <NotificationProvider>\n          <BrowserRouter>\n            <AppRouter />\n          </BrowserRouter>\n        </NotificationProvider>\n      </ProjectProvider>\n    </AuthProvider>\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// src/contexts/AuthContext.ts\n\nimport { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\ninterface AuthContextProps {}\n\nconst AuthContext = createContext<AuthContextProps>({} as AuthContextProps);\n\nconst AuthProvider: React.FC<AuthContextProps> = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios\n        .get('/api/auth/user', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((response) => {\n          setUser(response.data);\n        })\n        .catch((error) => {\n          console.error(error);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const login = async (loginData: any) => {\n    try {\n      const response = await axios.post('/api/auth/login', loginData);\n      localStorage.setItem('token', response.data.token);\n      setUser(response.data.user);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport { AuthProvider, AuthContext };\n\n// src/contexts/ProjectContext.ts\n\nimport { createContext, useState } from 'react';\n\ninterface ProjectContextProps {}\n\nconst ProjectContext = createContext<ProjectContextProps>({} as ProjectContextProps);\n\nconst ProjectProvider: React.FC<ProjectContextProps> = ({ children }) => {\n  const [projects, setProjects] = useState([]);\n\n  const addProject = async (projectData: any) => {\n    try {\n      const response = await axios.post('/api/projects', projectData);\n      setProjects([...projects, response.data]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const updateProject = async (projectId: string, projectData: any) => {\n    try {\n      const response = await axios.put(`/api/projects/${projectId}`, projectData);\n      setProjects(\n        projects.map((project) =>\n          project._id === projectId ? response.data : project\n        )\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const deleteProject = async (projectId: string) => {\n    try {\n      await axios.delete(`/api/projects/${projectId}`);\n      setProjects(projects.filter((project) => project._id !== projectId));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <ProjectContext.Provider value={{ projects, addProject, updateProject, deleteProject }}>\n      {children}\n    </ProjectContext.Provider>\n  );\n};\n\nexport { ProjectProvider, ProjectContext };\n\n// src/contexts/NotificationContext.ts\n\nimport { createContext, useState } from 'react';\nimport axios from 'axios';\n\ninterface NotificationContextProps {}\n\nconst NotificationContext = createContext<NotificationContextProps>({} as NotificationContextProps);\n\nconst NotificationProvider: React.FC<NotificationContextProps> = ({ children }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const socket = io();\n    socket.on('new-notification', (notification) => {\n      setNotifications([...notifications, notification]);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const readNotification = async (notificationId: string) => {\n    try {\n      await axios.put(`/api/notifications/${notificationId}`, { read: true });\n      setNotifications(\n        notifications.map((notification) =>\n          notification._id === notificationId ? { ...notification, read: true } : notification\n        )\n      );\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <NotificationContext.Provider value={{ notifications, loading, readNotification }}>\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\nexport { NotificationProvider, NotificationContext };\n\n// src/routers/AppRouter.ts\n\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from './Login';\nimport Projects from './Projects';\nimport Project from './Project';\n\nconst AppRouter: React.FC = () => {\n  return (\n    <Switch>\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/projects\" component={Projects} />\n      <Route path=\"/projects/:id\" component={Project} />\n    </Switch>\n  );\n};\n\nexport default AppRouter;\n\n// src/components/Login.tsx\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\ninterface Props {}\n\nconst Login: React.FC<Props> = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post('/api/auth/login', { email, password });\n      localStorage.setItem('token', response.data.token);\n    } catch (error) {\n      setError(error.response.data.message);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"email\" value={email} onChange={(event) => setEmail(event.target.value)} />\n      <input type=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} />\n      <button type=\"submit\">Se connecter</button>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n    </form>\n  );\n};\n\nexport default Login;\n\n// src/components/Projects.tsx\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Project from './Project';\nimport { useProjectContext } from '../contexts/ProjectContext';\n\ninterface Props {}\n\nconst Projects: React.FC<Props> = () => {\n  const { projects, addProject } = useProjectContext();\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    try {\n      const projectData = { name: 'Projet 1', description: 'Ce projet est très important' };\n      await addProject(projectData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Projets</h1>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" placeholder=\"Nom du projet\" />\n        <input type=\"text\" placeholder=\"Description du projet\" />\n        <button type=\"submit\">Ajouter un projet</button>\n      </form>\n      {projects.map((project) => (\n        <Project key={project._id} project={project} />\n      ))}\n    </div>\n  );\n};\n\nexport default Projects;\n\n// src/components/Project.tsx\n\nimport React from 'react';\nimport axios from 'axios';\nimport { useProjectContext } from '../contexts/ProjectContext';\n\ninterface Props {\n  project: any;\n}\n\nconst Project: React.FC<Props> = ({ project }) => {\n  const { updateProject, deleteProject } = useProjectContext();\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    try {\n      const projectData = { name: 'Projet 1 modifié', description: 'Ce projet est très important' };\n      await updateProject(project._id, projectData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await deleteProject(project._id);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div>\n      <h1>{project.name}</h1>\n      <p>{project.description}</p>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" value={project.name} />\n        <input type=\"text\" value={project.description} />\n        <button type=\"submit\">Modifier le projet</button>\n      </form>\n      <button type=\"button\" onClick={handleDelete}>\n        Supprimer le projet\n      </button>\n    </div>\n  );\n};\n\nexport default Project;\n\n// src/api/auth.ts\n\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'http://localhost:3001',\n});\n\nexport const login = (loginData: any) => api.post('/auth/login', loginData);\nexport const logout = () => api.post('/auth/logout');\nexport const getUser = () => api.get('/auth/user');\n\n// src/api/projects.ts\n\nimport axios from\n", "timestamp": 1767000996.098868}