{"nom_fichier": "main.py", "code": "import streamlit as st\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# Charger les données\n@st.cache\ndef charger_donnees():\n    data = {\n        'Nom': ['John', 'Anna', 'Peter', 'Linda'],\n        'Age': [28, 24, 35, 32],\n        'Ville': ['New York', 'Paris', 'Londres', 'Berlin']\n    }\n    return pd.DataFrame(data)\n\n# Fonction de calcul\ndef calcul_moyenne(df):\n    return df['Age'].mean()\n\n# Fonction de graphique\ndef graphique_age(df):\n    plt.figure(figsize=(8, 6))\n    plt.bar(df['Nom'], df['Age'])\n    plt.xlabel('Nom')\n    plt.ylabel('Age')\n    plt.title('Répartition des âges')\n    return plt\n\n# Page d'accueil\ndef page_acceuil():\n    st.title('Calculatrice de moyenne')\n    st.subheader('Entrez vos données')\n    nom = st.text_input('Nom')\n    age = st.number_input('Age', min_value=0)\n    ville = st.selectbox('Ville', ['New York', 'Paris', 'Londres', 'Berlin'])\n    if st.button('Calculer'):\n        df = pd.DataFrame({'Nom': [nom], 'Age': [age], 'Ville': [ville]})\n        moyenne = calcul_moyenne(df)\n        st.write(f'Moyenne des âges : {moyenne:.2f}')\n        graphique_age(df).show()\n\n# Page de données\ndef page_donnees():\n    df = charger_donnees()\n    st.title('Données')\n    st.write(df)\n    st.bar_chart(df['Age'])\n\n# Page de dashboard\ndef page_dashboard():\n    st.title('Dashboard')\n    st.write('Page de dashboard')\n\n# Page de filtres\ndef page_filtres():\n    st.title('Filtres')\n    st.write('Page de filtres')\n\n# Fonction principale\ndef main():\n    pages = ['Accueil', 'Données', 'Dashboard', 'Filtres']\n    selection = st.sidebar.selectbox('Page', pages)\n    if selection == 'Accueil':\n        page_acceuil()\n    elif selection == 'Données':\n        page_donnees()\n    elif selection == 'Dashboard':\n        page_dashboard()\n    elif selection == 'Filtres':\n        page_filtres()\n\n# Lancement de l'application\nif __name__ == \"__main__\":\n    main()\n", "timestamp": 1766829547.2356715}