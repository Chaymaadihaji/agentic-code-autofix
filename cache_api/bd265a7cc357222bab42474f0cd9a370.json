{"nom_fichier": ".gitignore", "code": "python\n# app.py\nfrom flask import Flask, render_template, request, redirect, url_for\nfrom models import Task, TaskList\nfrom templates import index as index_template\nfrom config import Config, DEBUG\nimport sqlite3\n\napp = Flask(__name__)\napp.config.from_object(Config)\ntask_list = TaskList(Config.DB_NAME)\n\nclass TaskManager:\n    def __init__(self, db_name):\n        self.conn = sqlite3.connect(db_name)\n        self.cursor = self.conn.cursor()\n\n    def create_table(self):\n        self.cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS tasks\n            (id INTEGER PRIMARY KEY, title TEXT, done INTEGER)\n        \"\"\")\n        self.conn.commit()\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    try:\n        if request.method == \"POST\":\n            new_task = Task(title=request.form[\"title\"])\n            task_list.add_task(new_task)\n            return redirect(url_for('index'))\n        task_list.create_table()\n        tasks = task_list.get_tasks()\n        return render_template(index_template, tasks=tasks)\n    except Exception as e:\n        return f\"Erreur: {e}\"\n\n@app.route(\"/delete-task/<int:task_id>\")\ndef delete_task(task_id):\n    try:\n        task_list.remove_task(task_id)\n        return redirect(url_for('index'))\n    except Exception as e:\n        return f\"Erreur: {e}\"\n\n@app.errorhandler(404)\ndef page_not_found(e):\n    return f\"Erreur 404, page non trouv√©e.\", 404\n\nif __name__ == \"__main__\":\n    app.run(debug=DEBUG)\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767109044.695924, "tentative": 4}