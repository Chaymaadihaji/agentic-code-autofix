{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nimport json\nfrom flask import Flask, request, render_template\n\napp = Flask(__name__)\n\n# Données de jeux\njeux = {\n    \"facile\": {\"mots\": [\"chien\", \"chat\", \"oiseau\", \"fleur\"], \"score\": 0},\n    \"moyen\": {\"mots\": [\"ordinateur\", \"telephone\", \"piano\", \"guitare\"], \"score\": 0},\n    \"difficile\": {\"mots\": [\"astronomie\", \"physique\", \"informatique\", \"mathematiques\"], \"score\": 0}\n}\n\n# Fonction pour générer un mot au hasard\ndef generer_mot_difficulte(niveau):\n    return random.choice(jeux[niveau][\"mots\"])\n\n# Fonction pour afficher le tableau de jeu\ndef afficher_tableau(lettres_utilisees, mot, essais):\n    tableau = []\n    for i, lettre in enumerate(mot):\n        if lettre in lettres_utilisees:\n            tableau.append(lettre)\n        else:\n            tableau.append(\"_\")\n    return tableau\n\n# Fonction pour gérer le jeu\ndef jouer(niveau):\n    mot = generer_mot_difficulte(niveau)\n    lettres_utilisees = []\n    essais = 6\n    score = 0\n    while essais > 0 and \"_\" in afficher_tableau(lettres_utilisees, mot, essais):\n        tableau = afficher_tableau(lettres_utilisees, mot, essais)\n        print(\" \".join(tableau))\n        lettre = input(\"Saisir une lettre : \")\n        if lettre in mot:\n            lettres_utilisees.append(lettre)\n        else:\n            essais -= 1\n            lettres_utilisees.append(lettre)\n        score += 1\n    if \"_\" not in afficher_tableau(lettres_utilisees, mot, essais):\n        print(\"Bravo ! Vous avez trouvé le mot !\")\n        score += 10\n    else:\n        print(\"Désolé, vous avez perdu ! Le mot était : \" + mot)\n    jeux[niveau][\"score\"] += score\n    return score\n\n# Route pour afficher les données de jeux\n@app.route(\"/donnees\", methods=[\"GET\"])\ndef donnees():\n    return json.dumps(jeux)\n\n# Route pour jouer le jeu\n@app.route(\"/jouer\", methods=[\"GET\", \"POST\"])\ndef jouer_jeu():\n    niveau = request.form[\"niveau\"]\n    score = jouer(niveau)\n    return render_template(\"resultat.html\", score=score)\n\n# Route pour afficher le résultat\n@app.route(\"/resultat\", methods=[\"GET\"])\ndef resultat():\n    return render_template(\"resultat.html\")\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863388.6998813}