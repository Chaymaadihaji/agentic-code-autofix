{"nom_fichier": "app.py", "code": "python\n# app.py\n\"\"\"\nApplication web servant d'exemple pour les fonctionnalités de data science\n\"\"\"\n\nimport os\nfrom flask import Flask, render_template, request\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.metrics import accuracy_score\n\napp = Flask(__name__)\n\ndef charge_data(nom_fichier):\n    \"\"\"\n    Charge les données depuis le fichier spécifié\n    \n    Args:\n        nom_fichier (str): Chemin vers le fichier de données\n    \n    Returns:\n        pd.DataFrame: Données chargées\n    \"\"\"\n    try:\n        données = pd.read_csv(nom_fichier)\n        return données\n    except Exception as e:\n        return f\"Erreur lors du chargement des données : {e}\"\n\ndef créer_modele_entraîné(data, target):\n    \"\"\"\n    Crée un modèle de reconnaissance de données à partir des données et du target\n    \n    Args:\n        data (pd.DataFrame): Données de features\n        target (pd.Series): Label de classification\n    \n    Returns:\n        RandomForestClassifier: Modèle entraîné\n    \"\"\"\n    try:\n        données_entraînement, données_test, labels_entraînement, labels_test = train_test_split(data, target, test_size=0.2, random_state=42)\n        modèle = RandomForestClassifier(n_estimators=100, random_state=42)\n        modèle.fit(données_entraînement, labels_entraînement)\n        return modèle\n    except Exception as e:\n        return f\"Erreur lors de l'entraînement du modèle : {e}\"\n\ndef prédire_sorties(mdl, données):\n    \"\"\"\n    Prédit les sorties pour les données d'entrée\n    \n    Args:\n        mdl (RandomForestClassifier): Modèle entraîné\n        données (pd.DataFrame): Données d'entrée\n    \n    Returns:\n        list: Prédictions des sorties\n    \"\"\"\n    try:\n        prédictions = mdl.predict(données)\n        return prédictions\n    except Exception as e:\n        return f\"Erreur lors de la prédiction des sorties : {e}\"\n\n@app.route('/', methods=['GET', 'POST'])\ndef fonctionnalite_principale():\n    \"\"\"\n    Fonctionnalité principale de l'application : chargement et utilisation des données\n    \"\"\"\n    if request.method == 'POST':\n        # Chargement des données\n        nom_fichier = request.form.get('fichier')\n        données = charge_data(nom_fichier)\n        \n        # Prétraitement des données\n        données = données.dropna()\n        données = données.astype({'feature1': 'float64', 'feature2': 'int64'})\n        \n        # Classification\n        target = données['target']\n        data = données.drop(columns=['target'])\n        mdl = créer_modele_entraîné(data, target)\n        \n        # Prédiction\n        prédictions = prédiction_sorties(mdl, data)\n        \n        # Affichage résultat\n        rendu = render_template('resultat.html', resultats=prédictions)\n        return rendu\n    \n    # Interface utilisateur\n    rendu = render_template('index.html')\n    return rendu\n\nif __name__ == '__main__':\n    app.run(debug=True, port=5000)\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767105471.3721316, "tentative": 4}