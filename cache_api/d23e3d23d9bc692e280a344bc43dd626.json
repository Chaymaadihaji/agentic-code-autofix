{"nom_fichier": "dashboard.py", "code": "# dashboard.py\n\nimport os\nimport json\nfrom flask import Flask, render_template, request, jsonify\n\napp = Flask(__name__)\n\n# Génération de données pour le dashboard\ndonnees = {\n    \"taches\": [\n        {\"id\": 1, \"nom\": \"Tâche 1\", \"etat\": \"en cours\", \"progression\": 20},\n        {\"id\": 2, \"nom\": \"Tâche 2\", \"etat\": \"terminée\", \"progression\": 100},\n        {\"id\": 3, \"nom\": \"Tâche 3\", \"etat\": \"en attente\", \"progression\": 0},\n        {\"id\": 4, \"nom\": \"Tâche 4\", \"etat\": \"en cours\", \"progression\": 50},\n        {\"id\": 5, \"nom\": \"Tâche 5\", \"etat\": \"terminée\", \"progression\": 100},\n    ],\n    \"stats\": {\n        \"nombre_taches\": len(donnees[\"taches\"]),\n        \"taches_en_cours\": len([tache for tache in donnees[\"taches\"] if tache[\"etat\"] == \"en cours\"]),\n        \"taches_terminées\": len([tache for tache in donnees[\"taches\"] if tache[\"etat\"] == \"terminée\"]),\n        \"taches_en_attente\": len([tache for tache in donnees[\"taches\"] if tache[\"etat\"] == \"en attente\"]),\n    },\n}\n\n# API pour les données en temps réel\n@app.route(\"/api/donnees\", methods=[\"GET\"])\ndef get_donnees():\n    return jsonify(donnees)\n\n# Structure modulaire pour différentes visualisations\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", donnees=donnees)\n\n# Fonction pour créer une nouvelle tâche\n@app.route(\"/creer_tache\", methods=[\"POST\"])\ndef creer_tache():\n    new_tache = {\n        \"id\": len(donnees[\"taches\"]) + 1,\n        \"nom\": request.form[\"nom\"],\n        \"etat\": \"en cours\",\n        \"progression\": 0,\n    }\n    donnees[\"taches\"].append(new_tache)\n    return jsonify(new_tache)\n\n# Fonction pour mettre à jour la progression d'une tâche\n@app.route(\"/mettre_a_jour_progression\", methods=[\"POST\"])\ndef mettre_a_jour_progression():\n    id_tache = request.form[\"id\"]\n    progression = request.form[\"progression\"]\n    for tache in donnees[\"taches\"]:\n        if tache[\"id\"] == int(id_tache):\n            tache[\"progression\"] = int(progression)\n            break\n    return jsonify({\"message\": \"Progression mise à jour avec succès\"})\n\n# Lancement de l'app\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766330401.2627037}