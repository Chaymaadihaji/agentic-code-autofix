{"nom_fichier": "Dockerfile", "code": "dockerfile\n# Utilisation de l'image officielle de Python 3.9\nFROM python:3.9-slim\n\n# Nom de l'image de construction\nARG APP_NAME=django-webapp\n\n# Chemin de travail du conteneur\nWORKDIR /app\n\n# Téléchargement des paquets de construction\nCOPY requirements.txt .\n\n# Installation des paquets\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Téléchargement du code de l'application\nCOPY . .\n\n# Exécution de l'installation de l'application Django\nRUN python manage.py makemigrations\nRUN python manage.py migrate\n\n# Exécution de la base de données PostgreSQL\nENV POSTGRES_HOST=localhost\nENV POSTGRES_USER=myuser\nENV POSTGRES_PASSWORD=mypassword\nENV POSTGRES_DB=mabase\n\n# Définition de l'environnement de l'application\nENV PYTHONUNBUFFERED=1\nENV DJANGO_SETTINGS_MODULE=${APP_NAME}.settings\n\n# Ouvrir le port 8000\nEXPOSE 8000\n\n# Exécution de la commande de démarrage de la l'application\nCMD [\"gunicorn\", \"${APP_NAME}.wsgi:application\", \"--workers\", \"3\", \"--bind\", \"0.0.0.0:8000\"]\n", "bugs_introduits": [], "timestamp": 1767002455.4767632}