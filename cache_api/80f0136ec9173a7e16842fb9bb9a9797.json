{"nom_fichier": "config.py", "code": "# config.py\nimport json\n\nclass Config:\n    JSON_FILE = 'parties.json'\n\n    def __init__(self):\n        self.parties = self.load_parties()\n\n    def load_parties(self):\n        try:\n            with open(self.JSON_FILE, 'r') as f:\n                return json.load(f)\n        except FileNotFoundError:\n            return []\n\n    def save_parties(self):\n        with open(self.JSON_FILE, 'w') as f:\n            json.dump(self.parties, f)\n\n    def ajouter_partie(self, gagnant, perdant):\n        self.parties.append({\n            'gagnant': gagnant,\n            'perdant': perdant\n        })\n        self.save_parties()\n\n    def get_historique(self):\n        return self.parties\n\nclass Joueur:\n    def __init__(self, nom):\n        self.nom = nom\n        self.score = 0\n\nclass Partie:\n    def __init__(self, joueur1, joueur2):\n        self.joueur1 = joueur1\n        self.joueur2 = joueur2\n        self.resultat = None\n\n    def jouer(self):\n        import random\n        choix1 = random.choice(['pierre', 'papier', 'ciseaux'])\n        choix2 = random.choice(['pierre', 'papier', 'ciseaux'])\n        if (choix1 == 'pierre' and choix2 == 'ciseaux') or (choix1 == 'papier' and choix2 == 'pierre') or (choix1 == 'ciseaux' and choix2 == 'papier'):\n            self.resultat = self.joueur1.nom\n        elif choix1 == choix2:\n            self.resultat = 'égalité'\n        else:\n            self.resultat = self.joueur2.nom\n\n        if self.resultat != 'égalité':\n            self.gagnant.score += 1\n            self.perdant.score -= 1\n\nclass Application:\n    def __init__(self):\n        self.config = Config()\n        self.joueurs = {\n            'joueur1': Joueur('Joueur 1'),\n            'joueur2': Joueur('Joueur 2')\n        }\n\n    def lancer_partie(self):\n        partie = Partie(self.joueurs['joueur1'], self.joueurs['joueur2'])\n        partie.jouer()\n        self.config.ajouter_partie(partie.resultat, 'inconnu')\n\n    def afficher_historique(self):\n        print(self.config.get_historique())\n\nif __name__ == \"__main__\":\n    app = Application()\n    while True:\n        print(\"1. Lancer une partie\")\n        print(\"2. Afficher l'historique\")\n        choix = input(\"Choisissez une option : \")\n        if choix == '1':\n            app.lancer_partie()\n        elif choix == '2':\n            app.afficher_historique()\n        else:\n            print(\"Option invalide\")\n", "timestamp": 1766493319.0104873}