{"nom_fichier": "main.py", "code": "import random\nimport flask\nfrom flask import render_template, request\n\napp = flask.Flask(__name__)\n\n# Mots à deviner\nmots = [\"papillon\", \"chien\", \"téléphone\", \"ordinateur\"]\n\n# État du jeu\nétat = {\"lettre\": \"\", \"essais\": 6, \"score\": 0}\n\n# Score et niveaux\nscores = {\"niveau1\": 0, \"niveau2\": 0, \"niveau3\": 0}\n\n# Logique du jeu\ndef generer_mot():\n    return random.choice(mots)\n\ndef verifier_le_trait(lettre):\n    mot = état[\"mot\"]\n    if lettre in mot:\n        return True\n    else:\n        return False\n\ndef verifier_le_mot():\n    mot = état[\"mot\"]\n    mot_essai = état[\"mot_essai\"]\n    if mot == mot_essai:\n        return True\n    else:\n        return False\n\n# Route pour l'affichage du formulaire\n@app.route('/', methods=['GET'])\ndef formulaire():\n    global état\n    état[\"mot\"] = generer_mot()\n    état[\"mot_essai\"] = [\"_\"] * len(état[\"mot\"])\n    état[\"lettre\"] = \"\"\n    return render_template('formulaire.html', état=état)\n\n# Route pour la saisie de lettres\n@app.route('/', methods=['POST'])\ndef saisie_lettre():\n    global état\n    lettre = request.form['lettre']\n    if len(lettre) != 1:\n        return \"Saisir une seule lettre\"\n    elif lettre in état[\"mot\"]:\n        for i, mot in enumerate(état[\"mot\"]):\n            if mot == lettre:\n                état[\"mot_essai\"][i] = lettre\n    else:\n        état[\"essais\"] -= 1\n    if état[\"essais\"] == 0:\n        return \"Perdu !\"\n    if verifier_le_mot():\n        état[\"score\"] += 1\n        if état[\"score\"] == 10:\n            état[\"niveau\"] = \"niveau2\"\n        elif état[\"score\"] == 20:\n            état[\"niveau\"] = \"niveau3\"\n    return render_template('formulaire.html', état=état)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831377.1814935}