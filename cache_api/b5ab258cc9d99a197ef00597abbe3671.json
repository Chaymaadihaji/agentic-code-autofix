{"nom_fichier": "src/index.tsx", "code": "typescript\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, combineReducers, configureStore } from '@reduxjs/toolkit';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport axios from 'axios';\nimport 'tailwindcss/base';\nimport 'tailwindcss/components';\nimport 'tailwindcss/utilities';\n\n// Components\nimport App from './App';\nimport ErrorPage from './ErrorPage';\nimport HomePage from './HomePage';\nimport LoginPage from './LoginPage';\n\n// API\naxios.defaults.baseURL = 'https://api.example.com';\n\n// Redux\ninterface State {\n  token: string | null;\n  loading: boolean;\n}\n\nconst initialState: State = {\n  token: null,\n  loading: false,\n};\n\nconst reducer = combineReducers({\n  token: (state = initialState.token, action: any) =>\n    action.type === 'SET_TOKEN' ? action.payload : state,\n  loading: (state = initialState.loading, action: any) =>\n    action.type === 'SET_LOADING' ? action.payload : state,\n});\n\nconst store = configureStore({\n  reducer,\n});\n\n// API Calls\nasync function fetchToken(username: string, password: string) {\n  try {\n    const response = await axios.post('/login', { username, password });\n    store.dispatch({ type: 'SET_TOKEN', payload: response.data.token });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// Pagination\ninterface PaginatedData<T> {\n  data: T[];\n  totalPages: number;\n  currentPage: number;\n}\n\ninterface PaginatedAPIResponse<T> {\n  data: PaginatedData<T>;\n  message: string;\n}\n\nasync function fetchPaginatedData<T>(\n  endpoint: string,\n  params: any,\n  currentPage: number = 1\n): Promise<PaginatedAPIResponse<T>> {\n  try {\n    const response = await axios.get(endpoint, { params, params: { page: currentPage } });\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction App() {\n  const token = store.getState().token;\n  const loading = store.getState().loading;\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!token) {\n    return <LoginPage onLogin={fetchToken} />;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"*\" element={<ErrorPage />} />\n      </Routes>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n", "langage": "typescript", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767106128.4673455, "tentative": 1}