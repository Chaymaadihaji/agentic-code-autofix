{"nom_fichier": "player.py", "code": "import json\nimport random\nfrom flask import Flask, render_template, request, jsonify\n\napp = Flask(__name__)\n\n# Données de jeu\njeu = {\n    \"vies\": 3,\n    \"score\": 0,\n    \"niveau\": 1,\n    \"monde\": 1,\n    \"piece\": 0,\n    \"ennemi\": 0\n}\n\n# Données niveaux\nniveaux = [\n    {\n        \"plateforme\": [[1, 1], [1, 2], [1, 3]],\n        \"ennemi\": {\"x\": 1, \"y\": 1},\n        \"piece\": {\"x\": 2, \"y\": 2}\n    }\n]\n\n# Fonction pour générer un ennemi\ndef generer_ennemi():\n    return {\"x\": random.randint(1, 10), \"y\": random.randint(1, 10)}\n\n# Fonction pour générer une pièce\ndef generer_piece():\n    return {\"x\": random.randint(1, 10), \"y\": random.randint(1, 10)}\n\n# Route pour afficher le jeu\n@app.route(\"/\")\ndef jeu_route():\n    return render_template(\"jeu.html\", jeu=jeu, niveaux=niveaux)\n\n# Route pour gérer les actions du joueur\n@app.route(\"/action\", methods=[\"POST\"])\ndef action_route():\n    donnees = request.json\n    if donnees[\"action\"] == \"deplacer\":\n        # Déplacer le joueur\n        jeu[\"vies\"] -= 1\n    elif donnees[\"action\"] == \"collecter_piece\":\n        # Collecter une pièce\n        jeu[\"piece\"] += 1\n    elif donnees[\"action\"] == \"tué_ennemi\":\n        # Tuer un ennemi\n        jeu[\"ennemi\"] -= 1\n    return jsonify(jeu)\n\n# Route pour gérer les niveaux\n@app.route(\"/niveau\", methods=[\"POST\"])\ndef niveau_route():\n    donnees = request.json\n    if donnees[\"action\"] == \"suivant\":\n        # Passer au niveau suivant\n        jeu[\"niveau\"] += 1\n        jeu[\"monde\"] += 1\n    return jsonify(jeu)\n\n# Route pour gérer le score\n@app.route(\"/score\", methods=[\"POST\"])\ndef score_route():\n    donnees = request.json\n    if donnees[\"action\"] == \"augmenter\":\n        # Augmenter le score\n        jeu[\"score\"] += 100\n    return jsonify(jeu)\n\n# Route pour gérer le boss\n@app.route(\"/boss\", methods=[\"POST\"])\ndef boss_route():\n    donnees = request.json\n    if donnees[\"action\"] == \"defait\":\n        # Défaire le boss\n        jeu[\"vies\"] += 1\n    return jsonify(jeu)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766865125.311362}