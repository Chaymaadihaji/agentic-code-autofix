{"nom_fichier": "templates/index.html", "code": "<!DOCTYPE html>\n<html lang=\"fr\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Calculatrice</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3\" crossorigin=\"anonymous\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\">\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            background-color: #f0f0f0;\n        }\n        .calculatrice {\n            width: 300px;\n            margin: 50px auto;\n            padding: 20px;\n            background-color: #fff;\n            border: 1px solid #ddd;\n            border-radius: 10px;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n        }\n    </style>\n</head>\n<body>\n    <header>\n        <h1>Calculatrice</h1>\n    </header>\n    <main class=\"calculatrice\">\n        <div class=\"row mb-3\">\n            <div class=\"col-6\">\n                <input type=\"text\" id=\"resultat\" class=\"form-control\" readonly>\n            </div>\n            <div class=\"col-6\">\n                <button class=\"btn btn-primary\" id=\"effacer\">Effacer</button>\n            </div>\n        </div>\n        <div class=\"row mb-3\">\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"7\">7</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"8\">8</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"9\">9</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"div\">/</button>\n            </div>\n        </div>\n        <div class=\"row mb-3\">\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"4\">4</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"5\">5</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"6\">6</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"mul\">*</button>\n            </div>\n        </div>\n        <div class=\"row mb-3\">\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"1\">1</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"2\">2</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"3\">3</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"soustr\">-</button>\n            </div>\n        </div>\n        <div class=\"row mb-3\">\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"0\">0</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"point\">.</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"egal\">=</button>\n            </div>\n            <div class=\"col-4\">\n                <button class=\"btn btn-light\" id=\"add\">+</button>\n            </div>\n        </div>\n        <div class=\"row mb-3\">\n            <div class=\"col-12\">\n                <button class=\"btn btn-light\" id=\"historique\">Historique</button>\n            </div>\n        </div>\n    </main>\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p\" crossorigin=\"anonymous\"></script>\n    <script>\n        let historique = [];\n        let resultat = \"\";\n        let operateur = \"\";\n        let precedent = \"\";\n        let boutonPress = false;\n\n        document.getElementById(\"historique\").addEventListener(\"click\", () => {\n            let modal = document.createElement(\"div\");\n            modal.classList.add(\"modal\", \"fade\");\n            modal.id = \"historiqueModal\";\n            modal.innerHTML = `\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\">Historique</h5>\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <ul id=\"historiqueListe\" class=\"list-group\"></ul>\n                        </div>\n                    </div>\n                </div>\n            `;\n            document.body.appendChild(modal);\n            let modalInstance = new bootstrap.Modal(modal);\n            modalInstance.show();\n            let historiqueListe = document.getElementById(\"historiqueListe\");\n            historique.forEach((item, index) => {\n                let listeItem = document.createElement(\"li\");\n                listeItem.classList.add(\"list-group-item\");\n                listeItem.textContent = item;\n                historiqueListe.appendChild(listeItem);\n            });\n        });\n\n        document.getElementById(\"effacer\").addEventListener(\"click\", () => {\n            resultat = \"\";\n            document.getElementById(\"resultat\").value = \"\";\n            historique = [];\n        });\n\n        document.getElementById(\"egal\").addEventListener(\"click\", () => {\n            if (operateur) {\n                precedent = eval(precedent + operateur + resultat);\n                historique.push(resultat + \" \" + operateur + \" \" + precedent);\n                resultat = precedent;\n                operateur = \"\";\n                precedent = \"\";\n                boutonPress = false;\n            }\n        });\n\n        Array.from(document.querySelectorAll(\"#7, #8, #9, #div, #4, #5, #6, #mul, #1, #2, #3, #soustr, #0, #point, #add\")).forEach(bouton => {\n            bouton.addEventListener(\"click\", () => {\n                if (!boutonPress) {\n                    if (bouton.id === \"0\" || bouton.id === \"point\") {\n                        if (resultat.indexOf(\".\") !== -1) {\n                            return;\n                        }\n                        resultat += bouton.id === \"0\" ? bouton.textContent : \".\";\n                    } else {\n                        if (operateur) {\n                            historique.push(resultat + \" \" + operateur + \" \" + document.getElementById(\"resultat\").value);\n                        }\n                        resultat += bouton.textContent;\n                    }\n                    document.getElementById(\"resultat\").value = resultat;\n                    operateur = \"\";\n                    precedent = \"\";\n                    boutonPress = true;\n                }\n            });\n        });\n    </script>\n</body>\n</html>\n", "timestamp": 1766332764.6599588}