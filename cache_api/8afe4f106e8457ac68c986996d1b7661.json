{"nom_fichier": "data_processor.py", "code": "# data_processor.py\n\nimport json\nimport random\nfrom flask import Flask, render_template, jsonify\n\napp = Flask(__name__)\n\n# Structure de données\ndonnees = {\n    \"taches\": [\n        {\"id\": 1, \"nom\": \"Tâche 1\", \"statut\": \"En cours\"},\n        {\"id\": 2, \"nom\": \"Tâche 2\", \"statut\": \"Terminée\"},\n        {\"id\": 3, \"nom\": \"Tâche 3\", \"statut\": \"En cours\"}\n    ],\n    \"statistiques\": {\n        \"total\": 3,\n        \"en_cours\": 2,\n        \"terminées\": 1\n    }\n}\n\n# Fonction de génération de données\ndef generer_donnees():\n    donnees[\"taches\"] = [\n        {\"id\": i, \"nom\": f\"Tâche {i}\", \"statut\": random.choice([\"En cours\", \"Terminée\"])} for i in range(1, 4)\n    ]\n    donnees[\"statistiques\"][\"total\"] = len(donnees[\"taches\"])\n    donnees[\"statistiques\"][\"en_cours\"] = sum(1 for tache in donnees[\"taches\"] if tache[\"statut\"] == \"En cours\")\n    donnees[\"statistiques\"][\"terminées\"] = len(donnees[\"taches\"]) - donnees[\"statistiques\"][\"en_cours\"]\n\n# API pour les données en temps réel\n@app.route(\"/donnees\", methods=[\"GET\"])\ndef obtenir_donnees():\n    return jsonify(donnees)\n\n# Route pour la liste interactive\n@app.route(\"/liste_taches\", methods=[\"GET\"])\ndef liste_taches():\n    return render_template(\"liste_taches.html\", donnees=donnees)\n\n# Route pour la création de tâches\n@app.route(\"/creer_tache\", methods=[\"POST\"])\ndef creer_tache():\n    donnees[\"taches\"].append({\"id\": len(donnees[\"taches\"]) + 1, \"nom\": \"Tâche nouvelle\", \"statut\": \"En cours\"})\n    generer_donnees()\n    return jsonify(donnees)\n\n# Route pour la gestion de tâches\n@app.route(\"/gestion_taches\", methods=[\"POST\"])\ndef gestion_taches():\n    id_tache = int(request.form[\"id_tache\"])\n    statut = request.form[\"statut\"]\n    for tache in donnees[\"taches\"]:\n        if tache[\"id\"] == id_tache:\n            tache[\"statut\"] = statut\n            break\n    generer_donnees()\n    return jsonify(donnees)\n\n# Lancement de l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n\n# Template HTML\nfrom flask import render_template\nfrom data_processor import donnees\n\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", donnees=donnees)\n", "timestamp": 1766328404.5003011}