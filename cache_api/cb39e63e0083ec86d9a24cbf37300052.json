{"nom_fichier": "main.py", "code": "python\n# main.py\n\nimport streamlit as st\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\n\n# Chargement des données\n@st.cache\ndef charger_data():\n    try:\n        data = pd.read_csv('donnees.csv')\n        return data\n    except Exception as e:\n        st.error(\"Erreur lors du chargement des données : \" + str(e))\n\n# Fonction de visualisation\ndef visualiser_data(data):\n    try:\n        # Visualisation en barres\n        st.subheader(\"Visualisation en barres\")\n        fig, ax = plt.subplots()\n        sns.barplot(x='variable', y='valeur', data=data)\n        st.pyplot(fig)\n\n        # Visualisation en histogramme\n        st.subheader(\"Visualisation en histogramme\")\n        fig, ax = plt.subplots()\n        sns.histplot(data['variable'], bins=10)\n        st.pyplot(fig)\n\n        # Visualisation en courbe\n        st.subheader(\"Visualisation en courbe\")\n        fig, ax = plt.subplots()\n        sns.lineplot(x='variable', y='valeur', data=data)\n        st.pyplot(fig)\n    except Exception as e:\n        st.error(\"Erreur lors de la visualisation des données : \" + str(e))\n\n# Page principale\ndef main():\n    try:\n        # Chargement des données\n        data = charger_data()\n\n        # Affichage des données\n        if data is not None:\n            st.title(\"Dashboard Streamlit\")\n            st.write(data)\n\n            # Sélection de la visualisation\n            visualisation = st.selectbox(\"Choisissez une visualisation\", [\"Barres\", \"Histogramme\", \"Courbe\"])\n\n            # Affichage de la visualisation sélectionnée\n            if visualisation == \"Barres\":\n                visualiser_data(data)\n            elif visualisation == \"Histogramme\":\n                visualiser_data(data)\n            elif visualisation == \"Courbe\":\n                visualiser_data(data)\n        else:\n            st.error(\"Aucune données chargées\")\n    except Exception as e:\n        st.error(\"Erreur générale : \" + str(e))\n\nif __name__ == \"__main__\":\n    main()\n", "timestamp": 1767000551.6166837}