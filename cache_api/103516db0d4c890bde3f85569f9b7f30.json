{"nom_fichier": "game.py", "code": "import pygame\nimport sys\nimport random\n\n# Initialisation de Pygame\npygame.init()\n\n# Définition des constantes\nWIDTH, HEIGHT = 800, 600\nWHITE = (255, 255, 255)\nRED = (255, 0, 0)\nGREEN = (0, 255, 0)\nBLUE = (0, 0, 255)\n\n# Création de la fenêtre\nwin = pygame.display.set_mode((WIDTH, HEIGHT))\n\nclass Player(pygame.Rect):\n    def __init__(self):\n        super().__init__(100, 100, 50, 50)\n        self.speed = 5\n        self.health = 100\n\n    def move(self, dx, dy):\n        self.x += dx\n        self.y += dy\n\n        if self.x < 0:\n            self.x = 0\n        elif self.x > WIDTH - self.width:\n            self.x = WIDTH - self.width\n\n        if self.y < 0:\n            self.y = 0\n        elif self.y > HEIGHT - self.height:\n            self.y = HEIGHT - self.height\n\nclass Enemy(pygame.Rect):\n    def __init__(self):\n        super().__init__(random.randint(0, WIDTH - 50), random.randint(0, HEIGHT - 50), 50, 50)\n        self.speed = 2\n\n    def move(self):\n        self.x += self.speed\n\n        if self.x < 0 or self.x > WIDTH - self.width:\n            self.speed *= -1\n\nclass Coin(pygame.Rect):\n    def __init__(self):\n        super().__init__(random.randint(0, WIDTH - 20), random.randint(0, HEIGHT - 20), 20, 20)\n\nclass Platform(pygame.Rect):\n    def __init__(self, x, y, w, h):\n        super().__init__(x, y, w, h)\n\nclass World:\n    def __init__(self):\n        self.platforms = [Platform(0, HEIGHT - 50, WIDTH, 50), Platform(WIDTH / 2, HEIGHT / 2, 100, 50)]\n        self.enemies = [Enemy()]\n        self.coins = [Coin()]\n        self.player = Player()\n\n    def update(self):\n        for enemy in self.enemies:\n            enemy.move()\n\n        for coin in self.coins:\n            if coin.colliderect(self.player):\n                self.coins.remove(coin)\n                print(\"Vous avez trouvé une pièce !\")\n\n        if self.player.health <= 0:\n            print(\"Vous avez perdu !\")\n            pygame.quit()\n            sys.exit()\n\nclass Game:\n    def __init__(self):\n        self.world = World()\n\n    def run(self):\n        clock = pygame.time.Clock()\n        while True:\n            for event in pygame.event.get():\n                if event.type == pygame.QUIT:\n                    pygame.quit()\n                    sys.exit()\n\n            keys = pygame.key.get_pressed()\n            if keys[pygame.K_LEFT]:\n                self.world.player.move(-self.world.player.speed, 0)\n            if keys[pygame.K_RIGHT]:\n                self.world.player.move(self.world.player.speed, 0)\n            if keys[pygame.K_UP]:\n                self.world.player.move(0, -self.world.player.speed)\n            if keys[pygame.K_DOWN]:\n                self.world.player.move(0, self.world.player.speed)\n\n            self.world.update()\n\n            win.fill(BLUE)\n            for platform in self.world.platforms:\n                pygame.draw.rect(win, GREEN, platform)\n            for enemy in self.world.enemies:\n                pygame.draw.rect(win, RED, enemy)\n            for coin in self.world.coins:\n                pygame.draw.rect(win, WHITE, coin)\n            pygame.draw.rect(win, (0, 0, 0), self.world.player)\n\n            pygame.display.update()\n            clock.tick(60)\n\nif __name__ == \"__main__\":\n    game = Game()\n    game.run()\n", "timestamp": 1766865113.8020103}