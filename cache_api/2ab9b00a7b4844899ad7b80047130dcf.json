{"nom_fichier": "main.java", "code": "java\n// main.java\npackage com.example.bibliotheque;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.ApiKey;\nimport springfox.documentation.service.AuthorizationScope;\nimport springfox.documentation.service.SecurityReference;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spi.service.contexts.SecurityContext;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\n@SpringBootApplication\n@EnableSwagger2\npublic class Main {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(apiInfo())\n                .securityContexts(Collections.singletonList(securityContext()))\n                .securitySchemes(Collections.singletonList(apiKey()));\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfo(\n                \"Bibliothèque API\",\n                \"API pour gérer une bibliothèque\",\n                \"1.0\",\n                \"https://github.com/username/bibliotheque\",\n                \"Copyright 2023\",\n                \"https://github.com/username/license\",\n                \"Licence\",\n                Collections.emptyList());\n    }\n\n    private SecurityContext securityContext() {\n        return SecurityContext.builder()\n                .securityReferences(Collections.singletonList(securityReference()))\n                .build();\n    }\n\n    private SecurityReference securityReference() {\n        return new SecurityReference(\n                \"JWT\",\n                new AuthorizationScope(0, \"Access to all resources\"));\n    }\n\n    private ApiKey apiKey() {\n        return new ApiKey(\"JWT\", \"Authorization\", \"header\");\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n}\n", "timestamp": 1766871939.2494266}