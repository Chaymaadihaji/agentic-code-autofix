{"nom_fichier": "app.py", "code": "import json\nimport random\nfrom flask import Flask, render_template, request\nfrom flask_bootstrap import Bootstrap\nfrom collections import Counter\n\napp = Flask(__name__)\nBootstrap(app)\n\n# Données de démonstration\ndonnees = [\n    {\"id\": 1, \"nom\": \"Tâche 1\", \"état\": \"en cours\"},\n    {\"id\": 2, \"nom\": \"Tâche 2\", \"état\": \"terminée\"},\n    {\"id\": 3, \"nom\": \"Tâche 3\", \"état\": \"en cours\"},\n    {\"id\": 4, \"nom\": \"Tâche 4\", \"état\": \"terminée\"},\n    {\"id\": 5, \"nom\": \"Tâche 5\", \"état\": \"en cours\"}\n]\n\n# API pour les données en temps réel\n@app.route(\"/api/taches\", methods=[\"GET\"])\ndef get_taches():\n    return json.dumps(donnees)\n\n# Route pour la page de dashboard\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", taches=donnees)\n\n# Route pour la page de création de tâche\n@app.route(\"/create\", methods=[\"GET\", \"POST\"])\ndef create_tache():\n    if request.method == \"POST\":\n        nom = request.form[\"nom\"]\n        etat = request.form[\"etat\"]\n        donnees.append({\"id\": len(donnees) + 1, \"nom\": nom, \"état\": etat})\n        return \"Tâche créée avec succès\"\n    return render_template(\"create.html\")\n\n# Route pour la page de statistiques\n@app.route(\"/statistiques\")\ndef statistiques():\n    etats = [tache[\"état\"] for tache in donnees]\n    comptes = Counter(etats)\n    return render_template(\"statistiques.html\", comptes=comptes)\n\n# Route pour la page de filtrage\n@app.route(\"/filtrer\", methods=[\"GET\", \"POST\"])\ndef filtrer():\n    if request.method == \"POST\":\n        etat = request.form[\"etat\"]\n        donnees_filtrees = [tache for tache in donnees if tache[\"état\"] == etat]\n        return render_template(\"filtrer.html\", taches=donnees_filtrees)\n    return render_template(\"filtrer.html\")\n\n# Route pour la page de tri\n@app.route(\"/tri\", methods=[\"GET\", \"POST\"])\ndef tri():\n    if request.method == \"POST\":\n        ordre = request.form[\"ordre\"]\n        if ordre == \"nom\":\n            donnees.sort(key=lambda tache: tache[\"nom\"])\n        elif ordre == \"état\":\n            donnees.sort(key=lambda tache: tache[\"état\"])\n        return render_template(\"tri.html\", taches=donnees)\n    return render_template(\"tri.html\")\n\n# Lancement de l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766330391.3460019}