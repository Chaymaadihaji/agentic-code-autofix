{"nom_fichier": "app.py", "code": "python\n# app.py\n\nimport streamlit as st\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import metrics\nfrom PIL import Image\n\n# FONCTIONNALITÉ PRINCIPALE\n\ndef fonctionnalite_principale():\n    try:\n        # CHARGEMENT DES DONNÉES\n        @st.cache\n        def ChargerDonnes():\n            data_url = \"https://raw.githubusercontent.com/mwaskom/seaborn-data/master/tips.csv\"\n            donneres = pd.read_csv(data_url)\n            return donneres\n\n        donneres = ChargerDonnes()\n\n        # TRAITEMENT ET ANALYSE\n        donneuréséle = donneres[['total_bill','tip']]\n\n        correlation = donneuréséle.corr()\n        corr_matrix = correlation.to_html()\n\n        st.markdown(f\"**CORR ÉLÉMENT DE CORRÉLATION ENTRE TOTAL BILL ET TIPE**\")\n        st.write(corr_matrix)\n\n        st.markdown('\\n')\n\n        # PREMIÈRE QUESTION - Corr à l'aide de seaborn \n\n        import seaborn as sns\n\n        f, ax = plt.subplots(figsize=(10, 8))\n        heatmap = sns.heatmap(donneuréséle.corr(),annot=True,cmap='coolwarm',ax=ax,annot_kws={\"fontsize\":7}).figure()\n        st.pyplot(heatmap)\n\n        st.image(Image.open(\"logo.jpg\"))\n\n    except Exception as e:\n        st.markdown(f\"**UNE ERREUR EST ARRIVERE**\")\n        st.write(e)\n\ndef main():\n    st.title(\"Fonctionnalité principale\")\n    \n    if 'run' not in st.session_state:\n        st.session_state.run = False\n    cols = st.columns(2)\n\n    if cols[0].button(\"Lancer la première étape\"):\n        st.session_state.run = True\n    \n    if  st.session_state.run:\n        fonctionnalite_principale()\n    \n    if cols[1].button(\"Réinitialiser\"):\n        st.session_state.run = False\n        \nif __name__ == \"__main__\":\n    main()\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767103668.0838842, "tentative": 4}