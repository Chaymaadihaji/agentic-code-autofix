{"nom_fichier": "player.py", "code": "import random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Fichier de données pour les mots au hasard\nmots_json = \"mots.json\"\n\n# Fonction pour charger les mots au hasard\ndef charger_mots():\n    with open(mots_json, \"r\") as fichier:\n        return json.load(fichier)\n\n# Fonction pour générer un mot au hasard\ndef mot_au_hasard():\n    mots = charger_mots()\n    return random.choice(mots)\n\n# Fonction pour compter le nombre d'essais\ndef compter_essais(lettres, mot):\n    essais = 0\n    for lettre in mot:\n        if lettre not in lettres:\n            essais += 1\n    return essais\n\n# Fonction pour afficher la lettre choisie\ndef afficher_lettres(lettres, mot):\n    affiche = \"\"\n    for lettre in mot:\n        if lettre in lettres:\n            affiche += lettre + \" \"\n        else:\n            affiche += \"_ \"\n    return affiche\n\n# Fonction pour gérer le jeu\ndef jouer():\n    mot = mot_au_hasard()\n    lettres = []\n    essais = 6\n    while essais > 0 and \"_\" in afficher_lettres(lettres, mot):\n        lettre = input(\"Entrer une lettre : \")\n        if lettre in lettres:\n            print(\"Vous avez déjà entré cette lettre.\")\n        elif lettre in mot:\n            print(\"Bonne lettre !\")\n            lettres.append(lettre)\n        else:\n            print(\"Mauvaise lettre.\")\n            essais -= 1\n            lettres.append(lettre)\n        print(\"Essais restants : \", essais)\n        print(afficher_lettres(lettres, mot))\n    if essais > 0:\n        print(\"Vous avez gagné ! Le mot était : \", mot)\n    else:\n        print(\"Vous avez perdu. Le mot était : \", mot)\n\n# Fonction pour afficher l'interface Web\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    if request.method == \"POST\":\n        mot = mot_au_hasard()\n        lettres = []\n        essais = 6\n        affiche = \"\"\n        for lettre in mot:\n            if lettre in lettres:\n                affiche += lettre + \" \"\n            else:\n                affiche += \"_ \"\n        return render_template(\"index.html\", mot=mot, lettres=lettres, essais=essais, affiche=affiche)\n    return render_template(\"index.html\")\n\n# Fonction pour lancer l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863615.0275476}