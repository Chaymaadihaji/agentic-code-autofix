{"nom_fichier": "main.py", "code": "from flask import Flask, render_template, request\nimport random\n\napp = Flask(__name__)\n\n# Mots pour le jeu du pendu\nmots = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\"]\n\n# Nombre de tentatives\ntentatives = 6\n\n# État du jeu\netat_jeu = {\"mots\": [], \"tentatives\": tentatives, \"score\": 0}\n\ndef generer_mots():\n    # Sélectionner un mot au hasard\n    mot = random.choice(mots)\n    etat_jeu[\"mots\"] = list(mot)\n    etat_jeu[\"tentatives\"] = tentatives\n    return mot\n\ndef compter_tentatives(lettre):\n    # Compter les tentatives\n    etat_jeu[\"tentatives\"] -= 1\n    return etat_jeu[\"tentatives\"]\n\ndef afficher_etat_jeu():\n    # Afficher l'état du jeu\n    return etat_jeu\n\ndef jouer(lettre):\n    # Vérifier si la lettre est dans le mot\n    if lettre in etat_jeu[\"mots\"]:\n        # La lettre est dans le mot\n        return True\n    else:\n        # La lettre n'est pas dans le mot\n        return False\n\ndef gagner():\n    # Vérifier si le mot est complété\n    if \"_\" not in etat_jeu[\"mots\"]:\n        # Le mot est complété\n        return True\n    else:\n        # Le mot n'est pas complété\n        return False\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    global etat_jeu\n    if request.method == \"POST\":\n        lettre = request.form[\"lettre\"]\n        if jouer(lettre):\n            etat_jeu[\"mots\"] = [l if l == lettre else \"_\" for l in etat_jeu[\"mots\"]]\n        else:\n            tentatives = compter_tentatives(lettre)\n            if tentatives == 0:\n                return render_template(\"game_over.html\", etat_jeu=etat_jeu)\n        if gagner():\n            etat_jeu[\"score\"] += 1\n            return render_template(\"game_won.html\", etat_jeu=etat_jeu)\n    return render_template(\"index.html\", etat_jeu=etat_jeu)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861702.5834234}