{"nom_fichier": "models.py", "code": "python\nimport sqlite3\nfrom typing import List\n\nclass Task:\n    def __init__(self, id: int, name: str, completed: bool):\n        self.id = id\n        self.name = name\n        self.completed = completed\n\nclass TodoList:\n    def __init__(self, db_name: str):\n        self.conn = sqlite3.connect(db_name)\n        self.cursor = self.conn.cursor()\n        self.cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS tasks (\n                id INTEGER PRIMARY KEY,\n                name TEXT NOT NULL,\n                completed INTEGER NOT NULL\n            )\n        \"\"\")\n        self.conn.commit()\n\n    def add_task(self, task: Task):\n        try:\n            self.cursor.execute(\"\"\"\n                INSERT INTO tasks (name, completed) VALUES (?, ?)\n            \"\"\", (task.name, 0))\n            self.conn.commit()\n        except Exception as e:\n            self.conn.rollback()\n            raise e\n\n    def get_tasks(self) -> List[Task]:\n        try:\n            self.cursor.execute(\"SELECT * FROM tasks\")\n            tasks = self.cursor.fetchall()\n            return [Task(task[0], task[1], task[2] != 0) for task in tasks]\n        except Exception as e:\n            raise e\n\n    def delete_task(self, task_id: int):\n        try:\n            self.cursor.execute(\"DELETE FROM tasks WHERE id = ?\", (task_id,))\n            self.conn.commit()\n        except Exception as e:\n            self.conn.rollback()\n            raise e\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767108922.4002419, "tentative": 2}