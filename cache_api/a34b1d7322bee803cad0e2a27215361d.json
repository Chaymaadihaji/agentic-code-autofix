{"nom_fichier": "main.py", "code": "python\nfrom flask import Flask, render_template, request, jsonify\nfrom models import db, Task\nfrom forms import TaskForm\n\napp = Flask(__name__)\napp.config[\"SECRET_KEY\"] = \"secret_key\"\napp.config[\"SQLALCHEMY_DATABASE_URI\"] = \"sqlite:///tasks.db\"\n\ndb.init_app(app)\n\n@app.route(\"/\")\ndef index():\n    \"\"\"Renvoie la page d'accueil avec la liste de tâches\"\"\"\n    tasks = Task.query.all()\n    return render_template(\"index.html\", tasks=tasks)\n\n@app.route(\"/create_task\", methods=[\"POST\"])\ndef create_task():\n    \"\"\"Crée une nouvelle tâche\"\"\"\n    form = TaskForm(csrf_enabled=True)\n    if form.validate_on_submit():\n        task = Task(title=form.title.data, description=form.description.data)\n        db.session.add(task)\n        db.session.commit()\n        return jsonify({\"message\": \"Tâche créée avec succès\"})\n    return jsonify({\"message\": \"Échec de création de tâche\"}), 400\n\n@app.route(\"/delete_task/<int:task_id>\")\ndef delete_task(task_id):\n    \"\"\"Supprime une tâche\"\"\"\n    task = Task.query.get(task_id)\n    if task:\n        db.session.delete(task)\n        db.session.commit()\n        return jsonify({\"message\": \"Tâche supprimée avec succès\"})\n    return jsonify({\"message\": \"Tâche introuvable\"}), 404\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767108883.4470484, "tentative": 2}