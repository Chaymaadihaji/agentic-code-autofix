{"nom_fichier": "game.py", "code": "import random\nfrom flask import Flask, render_template, request\nimport json\n\napp = Flask(__name__)\n\n# Fichier de données avec les mots\nmots = json.load(open('mots.json'))\n\n# Nombre de tentatives\ntentatives = 6\n\n# Mot à deviner\nmot = random.choice(list(mots.keys()))\n\n# État du jeu\netat = [\n    {'etat': True, 'mot': ''},\n    {'etat': True, 'mot': ''},\n    {'etat': True, 'mot': ''},\n    {'etat': True, 'mot': ''},\n    {'etat': True, 'mot': ''},\n    {'etat': True, 'mot': ''},\n    {'etat': True, 'mot': ''},\n]\n\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n@app.route('/jouer', methods=['POST'])\ndef jouer():\n    global tentatives, mot, etat\n    lettre = request.form['lettre']\n    if lettre in mot:\n        for i, l in enumerate(mot):\n            if l == lettre:\n                etat[i]['etat'] = False\n                etat[i]['mot'] = lettre\n    else:\n        tentatives -= 1\n    return render_template('index.html', mot=mot, etat=etat, tentatives=tentatives)\n\n@app.route('/resultat', methods=['POST'])\ndef resultat():\n    return render_template('resultat.html')\n\n@app.route('/recommencer', methods=['POST'])\ndef recommencer():\n    global tentatives, mot, etat\n    tentatives = 6\n    mot = random.choice(list(mots.keys()))\n    etat = [\n        {'etat': True, 'mot': ''},\n        {'etat': True, 'mot': ''},\n        {'etat': True, 'mot': ''},\n        {'etat': True, 'mot': ''},\n        {'etat': True, 'mot': ''},\n        {'etat': True, 'mot': ''},\n        {'etat': True, 'mot': ''},\n    ]\n    return render_template('index.html', mot=mot, etat=etat, tentatives=tentatives)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861710.0214221}