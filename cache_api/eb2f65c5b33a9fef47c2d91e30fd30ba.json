{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nimport json\nfrom flask import Flask, request, render_template\n\napp = Flask(__name__)\n\n# Dictionnaire de mots au hasard\nmots = {\n    \"facile\": [\"apple\", \"banana\", \"cherry\"],\n    \"moyen\": [\"orange\", \"mango\", \"papaya\"],\n    \"difficile\": [\"kiwi\", \"guava\", \"peach\"]\n}\n\n# Dictionnaire de niveaux\nniveaux = {\n    \"facile\": {\"score\": 0, \"lettre\": None},\n    \"moyen\": {\"score\": 0, \"lettre\": None},\n    \"difficile\": {\"score\": 0, \"lettre\": None}\n}\n\n# Fonction pour générer un mot au hasard\ndef generer_mot(niveau):\n    return random.choice(mots[niveau])\n\n# Fonction pour afficher le pendu\ndef afficher_pendu(lettres, mot, lettre):\n    pendu = \"\"\n    for i in range(len(mot)):\n        if mot[i] == lettre:\n            pendu += lettre\n        else:\n            pendu += \"_\"\n    return pendu\n\n# Fonction pour gérer la saisie de lettres\ndef saisir_lettre(lettre):\n    if len(lettre) != 1 or not lettre.isalpha():\n        return False\n    return True\n\n# Route pour le formulaire de saisie de lettres\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef formulaire():\n    if request.method == \"POST\":\n        niveau = request.form[\"niveau\"]\n        lettre = request.form[\"lettre\"]\n        if niveau in mots and saisir_lettre(lettre):\n            mot = generer_mot(niveau)\n            niveau_dict = niveaux[niveau]\n            if niveau_dict[\"lettre\"] is None:\n                niveau_dict[\"score\"] = 0\n            if lettre in mot:\n                niveau_dict[\"score\"] += 1\n                niveau_dict[\"lettre\"] = lettre\n            else:\n                niveau_dict[\"score\"] -= 1\n                if niveau_dict[\"score\"] < 0:\n                    niveau_dict[\"score\"] = 0\n            return render_template(\"resultat.html\", niveau=niveau, mot=mot, lettre=lettre, score=niveau_dict[\"score\"])\n    return render_template(\"formulaire.html\", niveaux=niveaux.keys())\n\n# Route pour afficher le résultat\n@app.route(\"/resultat\")\ndef resultat():\n    niveau = request.args.get(\"niveau\")\n    mot = request.args.get(\"mot\")\n    lettre = request.args.get(\"lettre\")\n    score = request.args.get(\"score\")\n    return render_template(\"resultat.html\", niveau=niveau, mot=mot, lettre=lettre, score=score)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766830394.4745977}