{"nom_fichier": "src/App.tsx", "code": "typescript\n// src/App.tsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport './styles.css';\nimport AppRouter from './router/AppRouter';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// store/index.ts\nimport { configureStore } from '@reduxjs/toolkit';\nimport counterReducer from './counterSlice';\n\nconst store = configureStore({\n  reducer: {\n    counter: counterReducer,\n  },\n});\n\nexport default store;\n\n// store/counterSlice.ts\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport interface CounterState {\n  value: number;\n}\n\nconst initialState: CounterState = {\n  value: 0,\n};\n\nconst counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  reducers: {\n    increment(state) {\n      state.value += 1;\n    },\n    decrement(state) {\n      state.value -= 1;\n    },\n    setValue(state, action: PayloadAction<number>) {\n      state.value = action.payload;\n    },\n  },\n});\n\nexport const { increment, decrement, setValue } = counterSlice.actions;\nexport default counterSlice.reducer;\n\n// models/api.ts\ninterface ApiResponse {\n  data: any[];\n  paging: any;\n}\n\n// services/api.ts\nimport axios from 'axios';\nimport { ApiResponse } from './models/api';\n\nconst api = axios.create({\n  baseURL: 'https://jsonplaceholder.typicode.com',\n});\n\nconst fetchData = async (url: string) => {\n  try {\n    const response = await api.get(url);\n    return response.data as ApiResponse;\n  } catch (error) {\n    console.error(error);\n    return [] as ApiResponse;\n  }\n};\n\nexport default fetchData;\n\n// components/Counter.tsx\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { decrement, increment, setValue } from '../store/counterSlice';\n\nconst Counter = () => {\n  const count = useSelector((state) => state.counter.value);\n  const dispatch = useDispatch();\n\n  const onIncrementClick = () => {\n    dispatch(increment());\n  };\n\n  const onDecrementClick = () => {\n    dispatch(decrement());\n  };\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={onIncrementClick}>+</button>\n  const undefinedVar2 = undefined;\n      <button onClick={onDecrementClick}>-</button>\n    </div>\n  );\n};\n\nexport default Counter;\n\n// components/Posts.tsx\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchData } from '../services/api';\nimport PostCard from './PostCard';\n\nconst Posts = () => {\n  const dispatch = useDispatch();\n\n  const posts = useSelector((state) => state.counter.value);\n\n  React.useEffect(() => {\n    const fetchPosts = async () => {\n      const response = await fetchData('/posts');\n      dispatch(setValue(response.data));\n    };\n\n    fetchPosts();\n  }, [dispatch]);\n\n  return (\n    <div>\n      {posts.map((post) => (\n        <PostCard key={post.id} post={post} />\n      ))}\n      <button>Load More</button>\n    </div>\n  );\n};\n\nexport default Posts;\n\n// components/PostCard.tsx\nimport React from 'react';\n\ninterface Post {\n  id: number;\n  title: string;\n  body: string;\n}\n\nconst PostCard = ({ post }: { post: Post }) => {\n  return (\n    <div>\n      <h2>{post.title}</h2>\n      <p>{post.body}</p>\n    </div>\n  );\n};\n\nexport default PostCard;\n\n// router/AppRouter.tsx\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Counter from '../components/Counter';\nimport Posts from '../components/Posts';\n\nconst AppRouter = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={Counter} />\n        <Route path=\"/posts\" component={Posts} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default AppRouter;\n\n// styles.css\nbody {\n  font-family: Arial, sans-serif;\n  margin: 0;\n  padding: 0;\n}\n\n.container {\n  max-width: 800px;\n  margin: 40px auto;\n  padding: 20px;\n  background-color: #f7f7f7;\n  border: 1px solid #ddd;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.title {\n  font-size: 24px;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 10px;\n}\n\n.item {\n  padding: 10px;\n  border-bottom: 1px solid #ccc;\n}\n\n.item:last-child {\n  border-bottom: none;\n}\n\n.button {\n  background-color: #007bff;\n  color: #fff;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.button:hover {\n  background-color: #0069d9;\n}\n", "langage": "typescript", "bugs_introduits": ["undefined_variable"], "corrections_appliquees": [], "timestamp": 1767106169.725127, "tentative": 2}