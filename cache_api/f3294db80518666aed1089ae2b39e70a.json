{"nom_fichier": "main.py", "code": "# main.py\nimport requests\nimport json\n\n# Configuration API OpenWeather\nAPI_KEY = \"votre_api_key_openweather\"\nBASE_URL = f\"http://api.openweathermap.org/data/2.5/\"\n\n# Structure pour les données de ville\nclass Ville:\n    def __init__(self, nom, lat, lon):\n        self.nom = nom\n        self.lat = lat\n        self.lon = lon\n\n# Structure pour les prévisions météo\nclass Prevision:\n    def __init__(self, ville, jour, temp, conditions):\n        self.ville = ville\n        self.jour = jour\n        self.temp = temp\n        self.conditions = conditions\n\n# Fonction pour récupérer les données de ville\ndef get_ville_data(ville):\n    url = f\"{BASE_URL}weather?q={ville.nom}&appid={API_KEY}&units=metric\"\n    response = requests.get(url)\n    return response.json()\n\n# Fonction pour récupérer les prévisions météo\ndef get_previsions_data(ville):\n    url = f\"{BASE_URL}forecast?q={ville.nom}&appid={API_KEY}&units=metric\"\n    response = requests.get(url)\n    return response.json()\n\n# Fonction pour gérer les alertes\ndef gestion_alertes(ville, previsions):\n    for prevision in previsions:\n        if prevision.temp < 0:\n            return f\"Alerte pour {ville.nom} : température inférieure à 0°C\"\n\n# Fonction pour gérer les favoris\ndef gestion_favoris(ville):\n    return f\"Ville ajoutée aux favoris : {ville.nom}\"\n\n# Fonction principale\ndef main():\n    # Liste des villes\n    villes = [\n        Ville(\"Paris\", 48.8566, 2.3522),\n        Ville(\"Lyon\", 45.7640, 4.8357),\n        Ville(\"Marseille\", 43.2965, 5.3698),\n    ]\n\n    # Récupération des données de ville\n    for ville in villes:\n        ville_data = get_ville_data(ville)\n        print(f\"Nom : {ville_data['name']} - Température : {ville_data['main']['temp']}°C\")\n\n        # Récupération des prévisions météo\n        previsions_data = get_previsions_data(ville)\n        previsions = []\n        for prevision_data in previsions_data['list']:\n            previsions.append(Prevision(ville, prevision_data['dt_txt'], prevision_data['main']['temp'], prevision_data['weather'][0]['description']))\n        print(\"Prévisions :\")\n        for prevision in previsions:\n            print(f\"  - {prevision.jour} : {prevision.temp}°C - {prevision.conditions}\")\n\n        # Gestion des alertes\n        alerte = gestion_alertes(ville, previsions)\n        if alerte:\n            print(alerte)\n\n        # Gestion des favoris\n        favori = gestion_favoris(ville)\n        if favori:\n            print(favori)\n\nif __name__ == \"__main__\":\n    main()\n", "timestamp": 1766865797.0717084}