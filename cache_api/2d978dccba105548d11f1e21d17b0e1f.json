{"nom_fichier": "app.py", "code": "from flask import Flask, render_template, request, jsonify\nimport json\nfrom datetime import datetime, timedelta\n\napp = Flask(__name__)\n\n# Datas pour le dashboard\ndatas = [\n    {\"id\": 1, \"title\": \"Tâche 1\", \"description\": \"Description de la tâche 1\", \"status\": \"En cours\"},\n    {\"id\": 2, \"title\": \"Tâche 2\", \"description\": \"Description de la tâche 2\", \"status\": \"Terminée\"},\n    {\"id\": 3, \"title\": \"Tâche 3\", \"description\": \"Description de la tâche 3\", \"status\": \"En cours\"},\n]\n\n# Fonction pour calculer les statistiques\ndef calcul_statistiques(datas):\n    total = len(datas)\n    en_cours = sum(1 for data in datas if data[\"status\"] == \"En cours\")\n    terminée = sum(1 for data in datas if data[\"status\"] == \"Terminée\")\n    return total, en_cours, terminée\n\n# Route pour afficher le dashboard\n@app.route(\"/\")\ndef index():\n    total, en_cours, terminée = calcul_statistiques(datas)\n    return render_template(\"index.html\", datas=datas, total=total, en_cours=en_cours, terminée=terminée)\n\n# Route pour ajouter une tâche\n@app.route(\"/ajout\", methods=[\"POST\"])\ndef ajout():\n    title = request.form[\"title\"]\n    description = request.form[\"description\"]\n    status = request.form[\"status\"]\n    datas.append({\"id\": len(datas) + 1, \"title\": title, \"description\": description, \"status\": status})\n    return jsonify({\"message\": \"Tâche ajoutée\"})\n\n# Route pour supprimer une tâche\n@app.route(\"/supprimer\", methods=[\"POST\"])\ndef supprimer():\n    id = request.form[\"id\"]\n    datas = [data for data in datas if data[\"id\"] != int(id)]\n    return jsonify({\"message\": \"Tâche supprimée\"})\n\n# Route pour filtrer les tâches\n@app.route(\"/filtrer\", methods=[\"POST\"])\ndef filtrer():\n    status = request.form[\"status\"]\n    datas = [data for data in datas if data[\"status\"] == status]\n    return jsonify({\"datas\": datas})\n\n# Route pour trier les tâches\n@app.route(\"/trier\", methods=[\"POST\"])\ndef trier():\n    ordre = request.form[\"ordre\"]\n    if ordre == \"asc\":\n        datas.sort(key=lambda x: x[\"id\"])\n    elif ordre == \"desc\":\n        datas.sort(key=lambda x: x[\"id\"], reverse=True)\n    return jsonify({\"datas\": datas})\n\n# Lancement de l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766330864.9794168}