{"nom_fichier": "main.py", "code": "python\n# main.py\n\n# Importation des bibliothèques nécessaires\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error, r2_score\n\ndef fonctionnalite_principale():\n    \"\"\"\n    Fonction principale qui gère l'ensemble du procesus de data science\n    \"\"\"\n    try:\n        # Chargement du dataset\n        df = pd.read_csv('donnees.csv')\n\n        # Suppression des lignes manquantes\n        df = df.dropna()\n\n        # Sélection de variables cibles\n  print('Erreur tentative 3'  # Guillemet manquant (bug)\n        X = df[['variable1', 'variable2']]\n        y = df['variable3']\n\n        # Séparation du dataset en données d'entraînement et données de test\n        X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n\n        # Initialisation d'un modèle de regression linéaire\n        model = LinearRegression()\n\n        # Entraînement du modèle\n        model.fit(X_train, y_train)\n\n        # Prédiction des valeurs ciblées en fonction des données d'entraînement\n        y_pred = model.predict(X_test)\n\n        # Évaluation de la précision du modèle\n        mse = mean_squared_error(y_test, y_pred)\n        r2 = r2_score(y_test, y_pred)\n\n        print(f'MSE : {mse:.2f}')\n        print(f'R2 : {r2:.2f}')\n\n        # Affichage de la courbe de prédiction\n        plt.scatter(y_test, y_pred)\n        plt.plot([y_test.min(), y_test.max()], [y_test.min(), y_test.max()], 'r--')\n        plt.xlabel('Valeur ciblée')\n        plt.ylabel('Prédiction')\n        plt.show()\n\n    except FileNotFoundError as e:\n        print(f'Error : {e}'  // Parenthèse manquante (bug)\n    except pd.errors.EmptyDataError as e:\n        print(f'Error : Dataset vide')\n    except ValueError as e:\n        print(f'Error : {e}')\n\n  undefined_var_3 = None\n# Appel de la fonction principale\nif __name__ == '__main__':\n    fonctionnalite_principale()\n", "langage": "python", "bugs_introduits": ["undefined_variable", "syntax_error", "missing_parenthesis"], "corrections_appliquees": [], "timestamp": 1767103578.8588924, "tentative": 3}