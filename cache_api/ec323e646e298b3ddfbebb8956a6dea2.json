{"nom_fichier": "data_processor.py", "code": "# data_processor.py\n\nimport json\nimport random\nfrom flask import Flask, render_template, request, jsonify\nfrom flask_bootstrap import Bootstrap\n\napp = Flask(__name__)\nBootstrap(app)\n\n# Structure de données\ntaches = [\n    {\"id\": 1, \"nom\": \"Tâche 1\", \"etat\": True},\n    {\"id\": 2, \"nom\": \"Tâche 2\", \"etat\": False},\n    {\"id\": 3, \"nom\": \"Tâche 3\", \"etat\": True},\n]\n\n# Génération de données\ndef generer_taches(n):\n    return [{\"id\": i, \"nom\": f\"Tâche {i}\", \"etat\": random.choice([True, False])} for i in range(1, n+1)]\n\n# Calcul des statistiques\ndef calculer_statistiques(taches):\n    total_taches = len(taches)\n    taches_terminees = sum(1 for tache in taches if tache[\"etat\"])\n    return {\n        \"total_taches\": total_taches,\n        \"taches_terminees\": taches_terminees,\n        \"progres\": (taches_terminees / total_taches) * 100,\n    }\n\n# API pour les données en temps réel\n@app.route(\"/api/taches\", methods=[\"GET\"])\ndef get_taches():\n    return jsonify(taches)\n\n@app.route(\"/api/taches\", methods=[\"POST\"])\ndef ajouter_tache():\n    nouveau_id = max(tache[\"id\"] for tache in taches) + 1\n    nouvelle_tache = {\"id\": nouveau_id, \"nom\": request.json[\"nom\"], \"etat\": request.json.get(\"etat\", False)}\n    taches.append(nouvelle_tache)\n    return jsonify(nouvelle_tache)\n\n@app.route(\"/api/taches\", methods=[\"DELETE\"])\ndef supprimer_tache():\n    id_tache = request.json[\"id\"]\n    taches = [tache for tache in taches if tache[\"id\"] != id_tache]\n    return jsonify({\"message\": \"Tâche supprimée\"})\n\n# Route pour le dashboard\n@app.route(\"/\")\ndef index():\n    statistiques = calculer_statistiques(taches)\n    return render_template(\"index.html\", statistiques=statistiques)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766330885.4774547}