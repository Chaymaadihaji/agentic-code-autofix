{"nom_fichier": "internal/models/models.go", "code": "go\n// Package models définit les modèles pour l'application API.\npackage models\n\nimport (\n\t\"gorm.io/gorm\"\n)\n\n// User représente un utilisateur dans l'application.\ntype User struct {\n\tgorm.Model\n\tName     string `json:\"name\"`\n\tEmail    string `json:\"email\"`\n\tPassword string `json:\"password\"`\n}\n\n// Book représente un livre dans l'application.\ntype Book struct {\n\tgorm.Model\n\tTitle       string `json:\"title\"`\n\tAuthor      string `json:\"author\"`\n\tDescription string `json:\"description\"`\n}\n\n// NewUser crée un nouvel utilisateur avec les informations fournies.\nfunc NewUser(name, email, password string) (*User, error) {\n\tuser := User{\n\t\tName:     name,\n\t\tEmail:    email,\n\t\tPassword: password,\n\t}\n\terr := user.Validate()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treturn &user, nil\n}\n\n// Validate vérifie que les informations de l'utilisateur sont valides.\nfunc (u *User) Validate() error {\n\tif u.Name == \"\" || u.Email == \"\" || u.Password == \"\" {\n\t\treturn ErrorInvalidInput\n\t}\n\treturn nil\n}\n\n// ErrorInvalidInput est une erreur personnalisée pour les entrées invalides.\nvar ErrorInvalidInput = \"invalid input\"\n\n// NewBook crée un nouveau livre avec les informations fournies.\nfunc NewBook(title, author, description string) (*Book, error) {\n\tbook := Book{\n\t\tTitle:       title,\n\t\tAuthor:      author,\n\t\tDescription: description,\n\t}\n\terr := book.Validate()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treturn &book, nil\n}\n\n// Validate vérifie que les informations du livre sont valides.\nfunc (b *Book) Validate() error {\n\tif b.Title == \"\" || b.Author == \"\" || b.Description == \"\" {\n\t\treturn ErrorInvalidInput\n\t}\n\treturn nil\n}\n", "timestamp": 1766868031.8039324}