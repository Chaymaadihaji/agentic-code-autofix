{"nom_fichier": "game.py", "code": "import random\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Dictionnaire avec les mots à deviner\nmots_deviner = {\n    \"facile\": [\"papaye\", \"banane\", \"orange\", \"pomme\"],\n    \"moyen\": [\"tigre\", \"léopard\", \"lion\", \"ours\"],\n    \"difficile\": [\"phénix\", \"dragons\", \"chimère\", \"griffon\"]\n}\n\n# Liste des lettres\nlettres = []\n\n# État du jeu\netat_jeu = {\n    \"mots\": [],\n    \"tentatives\": 0,\n    \"score\": 0,\n    \"niveau\": \"facile\"\n}\n\n# Fonction pour générer un mot à deviner\ndef generer_mot():\n    global etat_jeu\n    etat_jeu[\"mots\"] = random.choice(mots_deviner[etat_jeu[\"niveau\"]])\n    etat_jeu[\"tentatives\"] = 6\n    etat_jeu[\"score\"] = 0\n\n# Fonction pour vérifier si la lettre est dans le mot\ndef verifier_lettre(lette):\n    global etat_jeu\n    for i in range(len(etat_jeu[\"mots\"])):\n        if etat_jeu[\"mots\"][i] == lette:\n            return True\n    return False\n\n# Fonction pour gérer les tentatives\ndef gestion_tentatives(lettre):\n    global etat_jeu\n    etat_jeu[\"tentatives\"] -= 1\n    if lettre not in etat_jeu[\"mots\"]:\n        etat_jeu[\"score\"] -= 1\n\n# Fonction pour gérer les scores\ndef gestion_scores():\n    global etat_jeu\n    if etat_jeu[\"tentatives\"] == 0:\n        etat_jeu[\"score\"] -= 1\n        return False\n    return True\n\n# Route pour afficher le jeu\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef index():\n    global etat_jeu\n    if request.method == \"POST\":\n        lettre = request.form[\"lettre\"]\n        etat_jeu[\"lettres\"].append(lettre)\n        if verifier_lettre(lettre):\n            return render_template(\"index.html\", etat_jeu=etat_jeu)\n        else:\n            gestion_tentatives(lettre)\n            etat_jeu[\"lettres\"].append(lettre)\n            if gestion_scores():\n                return render_template(\"index.html\", etat_jeu=etat_jeu)\n            else:\n                return render_template(\"game_over.html\", etat_jeu=etat_jeu)\n    else:\n        generer_mot()\n        etat_jeu[\"lettres\"] = []\n        return render_template(\"index.html\", etat_jeu=etat_jeu)\n\n# Route pour afficher le jeu gagné\n@app.route(\"/gagne\", methods=[\"GET\"])\ndef gagne():\n    return render_template(\"gagne.html\", etat_jeu=etat_jeu)\n\n# Route pour afficher le jeu perdu\n@app.route(\"/perdu\", methods=[\"GET\"])\ndef perdu():\n    return render_template(\"perdu.html\", etat_jeu=etat_jeu)\n\n# Fonction pour lancer l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831462.891285}