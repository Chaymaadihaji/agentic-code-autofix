{"nom_fichier": "game.py", "code": "import random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Mots à deviner\nmots = [\"apple\", \"banana\", \"cherry\", \"date\"]\n\n# État du jeu\netat_jeu = {}\netat_jeu[\"mot\"] = random.choice(mots)\netat_jeu[\"lettres_tries\"] = []\netat_jeu[\"lettres_proposes\"] = []\netat_jeu[\"erreurs\"] = 0\netat_jeu[\"score\"] = 0\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    return random.choice(mots)\n\n# Fonction pour afficher le jeu\ndef afficher_jeu():\n    return render_template(\"jeu.html\", etat_jeu=etat_jeu)\n\n# Fonction pour gérer la saisie de lettres\ndef gérer_saisie_lettre(lettre):\n    if lettre in etat_jeu[\"lettres_tries\"]:\n        return \"Lettre déjà proposée\"\n    elif lettre in etat_jeu[\"mot\"]:\n        etat_jeu[\"lettres_proposes\"].append(lettre)\n    else:\n        etat_jeu[\"erreurs\"] += 1\n        etat_jeu[\"lettres_tries\"].append(lettre)\n    return \"Lettre proposée\"\n\n# Fonction pour gérer la fin du jeu\ndef gérer_fin_jeu():\n    if etat_jeu[\"erreurs\"] >= 6:\n        return \"Fin de jeu : Perdu\"\n    elif \"_\" not in etat_jeu[\"mot\"]:\n        etat_jeu[\"score\"] += 10\n        return \"Fin de jeu : Gagné\"\n    else:\n        return \"Continuer le jeu\"\n\n# Route pour afficher le jeu\n@app.route(\"/\")\ndef jeu():\n    return afficher_jeu()\n\n# Route pour gérer la saisie de lettres\n@app.route(\"/saisie_lettre\", methods=[\"POST\"])\ndef saisie_lettre():\n    lettre = request.form[\"lettre\"]\n    return gérer_saisie_lettre(lettre)\n\n# Route pour gérer la fin du jeu\n@app.route(\"/fin_jeu\", methods=[\"POST\"])\ndef fin_jeu():\n    return gérer_fin_jeu()\n\n# Lancement de l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863378.8301258}