{"nom_fichier": "ui.py", "code": "# ui.py\n\nimport random\nfrom flask import Flask, request, render_template\n\napp = Flask(__name__)\n\n# mots au hasard\nmots = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\"]\n\n# état du jeu\netat_jeu = {\n    \"mot\": \"\",\n    \"tentatives\": 6,\n    \"lettres_revelees\": [],\n    \"lettres_saisies\": []\n}\n\n# système de score/niveaux\nscore = {\n    \"niveau\": 1,\n    \"points\": 0\n}\n\n# route pour afficher l'état du jeu\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", etat_jeu=etat_jeu, score=score)\n\n# route pour gérer la saisie de lettres\n@app.route(\"/saisie\", methods=[\"POST\"])\ndef saisie():\n    lettre = request.form[\"lettre\"]\n    etat_jeu[\"lettres_saisies\"].append(lettre)\n    \n    # vérifier si la lettre est dans le mot\n    if lettre in etat_jeu[\"mot\"]:\n        # révéler la lettre\n        etat_jeu[\"lettres_revelees\"].append(lettre)\n    else:\n        # réduire les tentatives\n        etat_jeu[\"tentatives\"] -= 1\n    \n    # vérifier si le mot est complet\n    if \"\".join(etat_jeu[\"lettres_revelees\"]) == etat_jeu[\"mot\"]:\n        # augmenter le score\n        score[\"points\"] += 10\n        score[\"niveau\"] += 1\n        # réinitialiser l'état du jeu\n        etat_jeu[\"mot\"] = random.choice(mots)\n        etat_jeu[\"tentatives\"] = 6\n        etat_jeu[\"lettres_revelees\"] = []\n        etat_jeu[\"lettres_saisies\"] = []\n    \n    # vérifier si le joueur a perdu\n    if etat_jeu[\"tentatives\"] == 0:\n        # réinitialiser l'état du jeu\n        etat_jeu[\"mot\"] = random.choice(mots)\n        etat_jeu[\"tentatives\"] = 6\n        etat_jeu[\"lettres_revelees\"] = []\n        etat_jeu[\"lettres_saisies\"] = []\n    \n    return render_template(\"index.html\", etat_jeu=etat_jeu, score=score)\n\n# lancer l'app\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766830411.9725718}