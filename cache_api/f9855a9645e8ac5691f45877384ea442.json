{"nom_fichier": "app.py", "code": "python\n# app.py\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error\nimport numpy as np\n\ndef load_data(file_path: str) -> pd.DataFrame:\n    \"\"\"\n    Charge les données depuis un fichier CSV.\n\n    Args:\n    - file_path (str): Chemin vers le fichier CSV\n\n    Returns:\n    - data (pd.DataFrame): Données chargées\n\n    Raises:\n    - FileNotFoundError: Si le fichier n'existe pas\n    \"\"\"\n    try:\n        data = pd.read_csv(file_path)\n        return data\n    except FileNotFoundError:\n        print(f\"Le fichier {file_path} n'existe pas.\")\n        raise\n\ndef prepare_data(data: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"\n    Prépare les données pour l'entrainement.\n\n    Args:\n    - data (pd.DataFrame): Données\n\n    Returns:\n    - X (pd.DataFrame): Données d'entrée\n    - y (pd.Series): Dépendance\n    \"\"\"\n    X = data.drop('target', axis=1)  # features\n    y = data['target']  # dépendance\n    return X, y\n\ndef split_data(X: pd.DataFrame, y: pd.Series, test_size: float = 0.2) -> tuple:\n    \"\"\"\n    Sépare les données en entrainement et test.\n\n    Args:\n    - X (pd.DataFrame): Données d'entrée\n    - y (pd.Series): Dépendance\n    - test_size (float): Taille de la partie test\n\n    Returns:\n    - X_train (pd.DataFrame): Données d'entrainement\n    - X_test (pd.DataFrame): Données de test\n    - y_train (pd.Series): Dépendance d'entrainement\n    - y_test (pd.Series): Dépendance de test\n    \"\"\"\n    X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=test_size, random_state=42)\n    return X_train, X_test, y_train, y_test\n\ndef train_model(X_train: pd.DataFrame, y_train: pd.Series) -> LinearRegression:\n    \"\"\"\n    Entraîne un modèle de regression linéaire.\n\n    Args:\n    - X_train (pd.DataFrame): Données d'entrainement\n    - y_train (pd.Series): Dépendance d'entrainement\n\n    Returns:\n    - model (LinearRegression): Modèle entraîné\n    \"\"\"\n    model = LinearRegression()\n    model.fit(X_train, y_train)\n    return model\n\ndef evaluate_model(model: LinearRegression, X_test: pd.DataFrame, y_test: pd.Series) -> dict:\n    \"\"\"\n    Évalue le modèle entraîné.\n\n    Args:\n    - model (LinearRegression): Modèle entraîné\n    - X_test (pd.DataFrame): Données de test\n    - y_test (pd.Series): Dépendance de test\n\n    Returns:\n    - results (dict): Résultats de l'évaluation\n    \"\"\"\n    y_pred = model.predict(X_test)\n    mse = mean_squared_error(y_test, y_pred)\n    results = {\n        'mse': mse,\n        'rmse': np.sqrt(mse)\n    }\n    return results\n\ndef main():\n    file_path = 'data.csv'\n    data = load_data(file_path)\n    X, y = prepare_data(data)\n    X_train, X_test, y_train, y_test = split_data(X, y)\n    model = train_model(X_train, y_train)\n  print('Erreur tentative 2'  # Guillemet manquant (bug)\n    results = evaluate_model(model, X_test, y_test)\n    print(results)\n\nif __name__ == '__main__':\n    try:\n        main()\n    except Exception as e:\n        print(f\"Une erreur est survenue : {e}\")\n", "langage": "python", "bugs_introduits": ["syntax_error"], "corrections_appliquees": [], "timestamp": 1767105344.091835, "tentative": 2}