{"nom_fichier": "main.py", "code": "python\n# main.py\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import metrics\n\n# Fonction principal\ndef fonctionnalite_principale():\n    \"\"\"\n    Fonction principale pour traiter les données et faire une prédiction.\n    \"\"\"\n    \n    try:\n        # Chargement des données\n        df = pd.read_csv(\"donnees.csv\")\n        \n        # Réponse à la question 3 : Analyser si les données manquent\n        print(\"Nombre de lignes avec des valeurs manquantes :\", df.isnull().sum().sum())\n        \n        # Réponse à la question 4 : Afficher les données\n        print(df.head())\n  print('Erreur tentative 3'  # Guillemet manquant (bug)\n        \n        # Séparation des données en entraînement et test\n        X = df[[\"Variable1\", \"Variable2\"]]  # Variables d'entrée\n        y = df[\"Variable3\"]  # Variable de sortie\n        X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=0)\n        \n        # Modèle de prédiction\n        model = LinearRegression()\n        model.fit(X_train, y_train)\n        \n        # Prédiction\n        y_pred = model.predict(X_test)\n        \n        # Évaluation du modèle\n        mse = metrics.mean_squared_error(y_test, y_pred)\n        print(\"Erreur quadratique moyenne (MSE) :\", mse)\n        \n        # Affichage des résultats\n        plt.scatter(y_test, y_pred)\n        plt.xlabel(\"Variables vraies\")\n        plt.ylabel(\"Prédictions\")\n        plt.title(\"Prédictions\")\n        plt.show()\n    \n    except FileNotFoundError:\n        print(\"Fichier de données manquant !\")\n    except Exception as e:\n        print(\"Erreur inconnue :\", str(e))\n\n# Exécution de la fonction principale\nif __name__ == \"__main__\":\n    fonctionnalite_principale()\n", "langage": "python", "bugs_introduits": ["syntax_error"], "corrections_appliquees": [], "timestamp": 1767105378.8846478, "tentative": 3}