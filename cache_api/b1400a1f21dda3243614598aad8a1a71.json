{"nom_fichier": "main.py", "code": "# main.py\n\nimport json\nimport requests\nfrom flask import Flask, render_template\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\napp = Flask(__name__)\n\n# Génération de données pour le dashboard\ndonnees_meteo = {\n    \"temperature\": [20, 22, 21, 23, 22, 21, 20],\n    \"humidite\": [60, 65, 62, 68, 65, 62, 60],\n    \"pression\": [1013, 1015, 1013, 1016, 1015, 1013, 1014]\n}\n\n# Calcul des statistiques/métriques\nstatistiques = {\n    \"temperature\": {\n        \"min\": min(donnees_meteo[\"temperature\"]),\n        \"max\": max(donnees_meteo[\"temperature\"]),\n        \"moyenne\": np.mean(donnees_meteo[\"temperature\"])\n    },\n    \"humidite\": {\n        \"min\": min(donnees_meteo[\"humidite\"]),\n        \"max\": max(donnees_meteo[\"humidite\"]),\n        \"moyenne\": np.mean(donnees_meteo[\"humidite\"])\n    },\n    \"pression\": {\n        \"min\": min(donnees_meteo[\"pression\"]),\n        \"max\": max(donnees_meteo[\"pression\"]),\n        \"moyenne\": np.mean(donnees_meteo[\"pression\"])\n    }\n}\n\n# API pour les données en temps réel\ndef get_donnees_en_temps_reel():\n    response = requests.get(\"https://api.openweathermap.org/data/2.5/weather?q=Paris&appid=YOUR_API_KEY\")\n    donnees = response.json()\n    return donnees\n\n# Structure modulaire pour différentes visualisations\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", donnees_meteo=donnees_meteo, statistiques=statistiques)\n\n@app.route(\"/carte\")\ndef carte():\n    return render_template(\"carte.html\")\n\n@app.route(\"/graphique\")\ndef graphique():\n    plt.bar(range(len(donnees_meteo[\"temperature\"])), donnees_meteo[\"temperature\"])\n    plt.xlabel(\"Heure\")\n    plt.ylabel(\"Température\")\n    plt.title(\"Évolution de la température\")\n    plt.savefig(\"static/graphique.png\")\n    return render_template(\"graphique.html\")\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766829747.6260006}