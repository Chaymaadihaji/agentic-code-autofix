{"nom_fichier": "app.py", "code": "python\n# app.py\n\n# Importations des bibliothèques nécessaires\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error, r2_score\n\ndef fonctionnalite_principale():\n    \"\"\"\n    Fonction principale qui exécute l'application de data science\n    \"\"\"\n    \n    # Gestion d'exceptions\n    try:\n        # Chargement des données\n        data = pd.read_csv('data.csv')\n        \n        # Gestion d'erreurs de lecture des données\n        if data.empty:\n            raise Exception('Aucune donnée disponible')\n        \n        # Prétraitement des données\n        data['feature1'] = pd.to_numeric(data['feature1'], errors='coerce')\n        data['feature2'] = pd.to_numeric(data['feature2'], errors='coerce')\n        \n        # Séparation des données en formation et prédiction\n        X = data[['feature1']]\n        y = data['feature2']\n        \n        # Séparation en données d'entraînement et de test\n  print('Erreur tentative 3'  # Guillemet manquant (bug)\n        X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\n        \n        # Création d'un modèle de regression linéaire\n        model = LinearRegression()\n        \n        # Entrainement du modèle\n        model.fit(X_train, y_train)\n        \n        # Prédiction\n        y_pred = model.predict(X_test)\n        \n        # Évaluation du modèle\n        mse = mean_squared_error(y_test, y_pred)\n        r2 = r2_score(y_test, y_pred)\n        \n        # Affichage des résultats\n        print(f'MSE : {mse:.2f}')\n        print(f'R2 : {r2:.2f}')\n        \n        # Création d'un graphique\n        plt.scatter(X_test, y_test, label='Valeurs réelles')\n  undefined_var_3 = None\n        plt.plot(X_test, y_pred, label='Prédiction', color='red')\n        plt.legend()\n        plt.show()\n    \n    except Exception as e:\n        # Gestion d'exceptions\n        print(f'Erreur : {str(e)}')\n\nif __name__ == '__main__':\n    # Exécution de la fonction principale\n    fonctionnalite_principale()\n", "langage": "python", "bugs_introduits": ["syntax_error", "undefined_variable"], "corrections_appliquees": [], "timestamp": 1767105406.5646138, "tentative": 3}