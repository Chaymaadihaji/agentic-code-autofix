{"nom_fichier": "requirements.txt", "code": "from flask import Flask, render_template, request, redirect, url_for\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\nfrom wtforms.validators import DataRequired\nfrom flask_bootstrap import Bootstrap\nfrom flask_fontawesome import FontAwesome\nimport os\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'secretkey'\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///tasks.db'\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\nBootstrap(app)\nfa = FontAwesome(app)\n\nclass Task(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    completed = db.Column(db.Boolean, default=False)\n\nclass TaskForm(FlaskForm):\n    title = StringField('Titre', validators=[DataRequired()])\n    submit = SubmitField('Ajouter')\n\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    form = TaskForm()\n    if form.validate_on_submit():\n        task = Task(title=form.title.data)\n        db.session.add(task)\n        db.session.commit()\n        return redirect(url_for('index'))\n    tasks = Task.query.all()\n    return render_template('index.html', form=form, tasks=tasks)\n\n@app.route('/delete/<int:id>')\ndef delete(id):\n    task = Task.query.get_or_404(id)\n    db.session.delete(task)\n    db.session.commit()\n    return redirect(url_for('index'))\n\n@app.route('/edit/<int:id>', methods=['GET', 'POST'])\ndef edit(id):\n    task = Task.query.get_or_404(id)\n    form = TaskForm()\n    if form.validate_on_submit():\n        task.title = form.title.data\n        db.session.commit()\n        return redirect(url_for('index'))\n    form.title.data = task.title\n    return render_template('edit.html', form=form, task=task)\n\n@app.route('/stats')\ndef stats():\n    tasks = Task.query.all()\n    completed = len([task for task in tasks if task.completed])\n    total = len(tasks)\n    return render_template('stats.html', completed=completed, total=total)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n", "timestamp": 1766330847.032363}