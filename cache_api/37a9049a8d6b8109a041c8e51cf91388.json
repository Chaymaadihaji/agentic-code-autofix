{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nfrom flask import Flask, request, render_template\nimport json\n\napp = Flask(__name__)\n\n# Fichier de mots à deviner\nwith open('mots.json', 'r') as f:\n    mots = json.load(f)\n\n# État du jeu\netat = {\n    'mot': '',\n    'lettres': [],\n    'erreurs': 0,\n    'score': 0\n}\n\n# Route pour la page d'accueil\n@app.route('/', methods=['GET'])\ndef index():\n    return render_template('index.html')\n\n# Route pour la saisie de lettres\n@app.route('/saisie', methods=['POST'])\ndef saisie():\n    global etat\n    lettre = request.form['lettre']\n    if lettre in etat['mot']:\n        etat['lettres'].append(lettre)\n    else:\n        etat['erreurs'] += 1\n    if '_' not in etat['mot']:\n        etat['score'] += 1\n        etat['mot'] = random.choice(mots)\n        etat['lettres'] = []\n        etat['erreurs'] = 0\n    return render_template('index.html', etat=etat)\n\n# Route pour l'affichage des résultats\n@app.route('/resultat', methods=['GET'])\ndef resultat():\n    global etat\n    return render_template('resultat.html', etat=etat)\n\n# Route pour le lancement de l'application\n@app.route('/lancer', methods=['GET'])\ndef lancer():\n    global etat\n    etat['mot'] = random.choice(mots)\n    return render_template('index.html', etat=etat)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831534.8888392}