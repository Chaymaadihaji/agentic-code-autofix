{"nom_fichier": "game.py", "code": "# game.py\n\nimport random\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Etat du jeu\nscores_p = 0\nscores_papier = 0\nscores_ciseaux = 0\nhistorique = []\n\n# Fonction pour choisir au hasard\ndef choisir_hasard():\n    return random.choice(['pierre', 'papier', 'ciseaux'])\n\n# Fonction pour vérifier le gagnant\ndef verifier_gagnant(joueur, ordinateur):\n    if joueur == ordinateur:\n        return \"Egalité\"\n    if (joueur == 'pierre' and ordinateur == 'ciseaux') or (joueur == 'papier' and ordinateur == 'pierre') or (joueur == 'ciseaux' and ordinateur == 'papier'):\n        return \"Joueur\"\n    return \"Ordinateur\"\n\n# Fonction pour afficher les résultats\ndef afficher_resultats(joueur, ordinateur, gagnant):\n    return {\n        'joueur': joueur,\n        'ordinateur': ordinateur,\n        'gagnant': gagnant\n    }\n\n# Route pour jouer\n@app.route('/jouer', methods=['POST'])\ndef jouer():\n    joueur = request.form['joueur']\n    ordinateur = choisir_hasard()\n    gagnant = verifier_gagnant(joueur, ordinateur)\n    scores = {\n        'pierre': scores_p,\n        'papier': scores_papier,\n        'ciseaux': scores_ciseaux\n    }\n    historique.append(afficher_resultats(joueur, ordinateur, gagnant))\n    if gagnant == 'Joueur':\n        scores[joueur] += 1\n    elif gagnant == 'Ordinateur':\n        scores[ordinateur] += 1\n    return render_template('index.html', scores=scores, historique=historique)\n\n# Route pour afficher le score\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766748951.5185535}