{"nom_fichier": "requirements_prod.txt", "code": "import streamlit as st\nfrom streamlit import caching\nimport db\nfrom models import Livre, Membre, Emprunt\nfrom auth import Auth\n\nst.title(\"Bibliothèque\")\n\nauth = Auth()\n\nif auth.is_authenticated():\n    st.write(\"Bonjour\", auth.get_username())\n\n    livre_id = st.selectbox(\"Sélectionnez un livre\", [livre.id for livre in db.get_livres()])\n    livre = db.get_livre(livre_id)\n\n    if st.button(\"Consulter le livre\"):\n        st.write(livre)\n\n    st.write(\"Liste des livres\")\n    st.write(db.get_livres())\n\n    st.write(\"Liste des membres\")\n    st.write(db.get_membres())\n\n    st.write(\"Liste des emprunts\")\n    st.write(db.get_emprunts())\n\n    if st.button(\"Créer un emprunt\"):\n        membre_id = st.selectbox(\"Sélectionnez un membre\", [membre.id for membre in db.get_membres()])\n        membre = db.get_membre(membre_id)\n        db.create_emprunt(livre.id, membre.id)\n        st.write(\"Emprunt créé\")\n\nelse:\n    username = st.text_input(\"Nom d'utilisateur\")\n    password = st.text_input(\"Mot de passe\", type=\"password\")\n    if st.button(\"Se connecter\"):\n        auth.login(username, password)\n        if auth.is_authenticated():\n            st.write(\"Authentification réussie\")\n        else:\n            st.write(\"Authentification échouée\")\n", "timestamp": 1766864269.9299965}