{"nom_fichier": "ui.py", "code": "# ui.py\n\nimport random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Chargement des mots au hasard\nwith open('mots.json') as f:\n    mots = json.load(f)\n\n# État du jeu\netat = {\n    'mot': '',\n    'lettres_utilisees': [],\n    'score': 0\n}\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    mot = random.choice(list(mots.keys()))\n    return mot\n\n# Fonction pour afficher le pendu\ndef afficher_pendu(lettres_utilisees, mot):\n    pendu = ''\n    for lettre in mot:\n        if lettre in lettres_utilisees:\n            pendu += lettre + ' '\n        else:\n            pendu += '_ '\n    return pendu\n\n# Fonction pour vérifier la saisie de lettre\ndef verifier_saisie(lettre):\n    if lettre in etat['lettres_utilisees']:\n        return False\n    else:\n        etat['lettres_utilisees'].append(lettre)\n        return True\n\n# Fonction pour gérer le score\ndef gérer_score(mot, lettre):\n    if lettre in mot:\n        return 1\n    else:\n        return -1\n\n# Route pour afficher l'écran de jeu\n@app.route('/', methods=['GET'])\ndef jeu():\n    return render_template('jeu.html', etat=etat)\n\n# Route pour traiter la saisie de lettre\n@app.route('/', methods=['POST'])\ndef traiter_saisie():\n    lettre = request.form['lettre']\n    if verifier_saisie(lettre):\n        etat['mot'] = generer_mot()\n        score = gérer_score(etat['mot'], lettre)\n        etat['score'] += score\n    return render_template('jeu.html', etat=etat)\n\n# Route pour afficher le score\n@app.route('/score', methods=['GET'])\ndef afficher_score():\n    return render_template('score.html', etat=etat)\n\n# Lancement de l'application\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766830346.1778412}