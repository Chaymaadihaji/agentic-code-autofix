{"nom_fichier": "app.py", "code": "python\nfrom flask import Flask, render_template, request, redirect, url_for\nfrom flask_sqlalchemy import SQLAlchemy\nimport sqlite3\n\napp = Flask(__name__)\napp.config[\"SQLALCHEMY_DATABASE_URI\"] = \"sqlite:///taches.db\"\ndb = SQLAlchemy(app)\n\nclass Tache(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    text = db.Column(db.String(100))\n    termine = db.Column(db.Boolean, default=False)\n\n@app.route(\"/\")\ndef index():\n    taches = Tache.query.all()\n    return render_template(\"index.html\", taches=taches)\n\n@app.route(\"/ajout\", methods=[\"GET\", \"POST\"])\ndef ajout():\n    try:\n        if request.method == \"POST\":\n            text = request.form[\"text\"]\n            tache = Tache(text=text)\n            db.session.add(tache)\n            db.session.commit()\n            return redirect(url_for(\"index\"))\n        return render_template(\"ajout.html\")\n    except Exception as e:\n        return \"Erreur lors de l'ajout de tache : \" + str(e)\n\n@app.route(\"/termine/<int:id>\")\ndef termine(id):\n    try:\n        tache = Tache.query.get(id)\n        if tache:\n            tache.termine = True\n            db.session.commit()\n        return redirect(url_for(\"index\"))\n    except Exception as e:\n        return \"Erreur lors de la marquage de tache como terminé : \" + str(e)\n\n@app.errorhandler(404)\ndef page_not_found(e):\n    return render_template(\"erreur.html\", erreur=\"Page non trouvée\"), 404\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767108982.2919815, "tentative": 3}