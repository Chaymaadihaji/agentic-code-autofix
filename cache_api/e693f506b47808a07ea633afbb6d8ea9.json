{"nom_fichier": "dashboard.py", "code": "# dashboard.py\n\nimport json\nfrom flask import Flask, render_template, request, jsonify\nfrom datetime import datetime\n\napp = Flask(__name__)\n\n# Données en mémoire\ntaches = [\n    {\"id\": 1, \"nom\": \"Tâche 1\", \"statut\": \"En cours\"},\n    {\"id\": 2, \"nom\": \"Tâche 2\", \"statut\": \"Terminée\"},\n    {\"id\": 3, \"nom\": \"Tâche 3\", \"statut\": \"En attente\"}\n]\n\n# Calcul des statistiques\ndef calc_statistiques(taches):\n    en_cours = len([tache for tache in taches if tache[\"statut\"] == \"En cours\"])\n    terminée = len([tache for tache in taches if tache[\"statut\"] == \"Terminée\"])\n    en_attente = len([tache for tache in taches if tache[\"statut\"] == \"En attente\"])\n    return {\n        \"en_cours\": en_cours,\n        \"terminée\": terminée,\n        \"en_attente\": en_attente\n    }\n\n# API pour les données en temps réel\n@app.route(\"/api/taches\", methods=[\"GET\"])\ndef get_taches():\n    return jsonify(taches)\n\n@app.route(\"/api/statistiques\", methods=[\"GET\"])\ndef get_statistiques():\n    return jsonify(calc_statistiques(taches))\n\n# Route pour la liste interactive\n@app.route(\"/\")\ndef index():\n    statistiques = calc_statistiques(taches)\n    return render_template(\"index.html\", taches=taches, statistiques=statistiques)\n\n# Route pour la création de tâches\n@app.route(\"/create\", methods=[\"POST\"])\ndef create_tache():\n    id = len(taches) + 1\n    nom = request.form[\"nom\"]\n    statut = \"En cours\"\n    taches.append({\"id\": id, \"nom\": nom, \"statut\": statut})\n    return jsonify({\"message\": \"Tâche créée avec succès\"})\n\n# Route pour la gestion de tâches\n@app.route(\"/update/<int:id>\", methods=[\"POST\"])\ndef update_tache(id):\n    for tache in taches:\n        if tache[\"id\"] == id:\n            tache[\"statut\"] = request.form[\"statut\"]\n            return jsonify({\"message\": \"Tâche mise à jour avec succès\"})\n    return jsonify({\"message\": \"Tâche non trouvée\"})\n\n# Route pour la suppression de tâches\n@app.route(\"/delete/<int:id>\", methods=[\"POST\"])\ndef delete_tache(id):\n    for tache in taches:\n        if tache[\"id\"] == id:\n            taches.remove(tache)\n            return jsonify({\"message\": \"Tâche supprimée avec succès\"})\n    return jsonify({\"message\": \"Tâche non trouvée\"})\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766328393.3168519}