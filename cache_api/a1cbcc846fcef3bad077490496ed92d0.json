{"nom_fichier": "game.py", "code": "import random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Liste de mots à deviner\nmots = [\"orange\", \"maison\", \"ordinateur\", \"papier\", \"plume\"]\n\n# Structure de données pour l'état du jeu\netat_jeu = {\n    \"mot_secret\": random.choice(mots),\n    \"lettres_utilisees\": \"\",\n    \"essais\": 6,\n    \"score\": 0\n}\n\n# Génération de mots au hasard\ndef generer_mot():\n    return random.choice(mots)\n\n# Affichage du pendu\ndef afficher_pendu(essais):\n    if essais == 6:\n        return \"_______\\n|       |\\n|       |\\n|       |\\n|       |\\n|       |\"\n    elif essais == 5:\n        return \"_______\\n|       |\\n|   O   |\\n|       |\\n|       |\\n|       |\"\n    elif essais == 4:\n        return \"_______\\n|       |\\n|   O   |\\n|   |   |\\n|       |\\n|       |\"\n    elif essais == 3:\n        return \"_______\\n|       |\\n|   O   |\\n|  /|   |\\n|       |\\n|       |\"\n    elif essais == 2:\n        return \"_______\\n|       |\\n|   O   |\\n|  /|\\  |\\n|       |\\n|       |\"\n    elif essais == 1:\n        return \"_______\\n|       |\\n|   O   |\\n|  /|\\ \\|\\n|       |\\n|       |\"\n    else:\n        return \"_______\\n|       |\\n|   O   |\\n|  /|\\ \\|\\n|  /    \\n|_____|\"\n\n# Saisie de lettres par l'utilisateur\n@app.route('/', methods=['GET', 'POST'])\ndef saisie_litterre():\n    global etat_jeu\n    if request.method == 'POST':\n        lettre = request.form['lettre']\n        if lettre in etat_jeu['mot_secret']:\n            etat_jeu['lettres_utilisees'] += lettre\n            for i in range(len(etat_jeu['mot_secret'])):\n                if etat_jeu['mot_secret'][i] == lettre:\n                    etat_jeu['mot_secret'] = etat_jeu['mot_secret'][:i] + \"*\" + etat_jeu['mot_secret'][i+1:]\n        else:\n            etat_jeu['essais'] -= 1\n            etat_jeu['lettres_utilisees'] += lettre\n        if '*' not in etat_jeu['mot_secret']:\n            etat_jeu['score'] += 10\n            return render_template('win.html', mot=etat_jeu['mot_secret'], score=etat_jeu['score'])\n        elif etat_jeu['essais'] == 0:\n            etat_jeu['score'] -= 10\n            return render_template('lose.html', mot=etat_jeu['mot_secret'], score=etat_jeu['score'])\n    return render_template('index.html', pendu=afficher_pendu(etat_jeu['essais']), lettre_utilisees=etat_jeu['lettres_utilisees'], score=etat_jeu['score'])\n\n@app.route('/restart', methods=['GET'])\ndef restart():\n    global etat_jeu\n    etat_jeu = {\n        \"mot_secret\": generer_mot(),\n        \"lettres_utilisees\": \"\",\n        \"essais\": 6,\n        \"score\": 0\n    }\n    return render_template('index.html', pendu=afficher_pendu(etat_jeu['essais']), lettre_utilisees=etat_jeu['lettres_utilisees'], score=etat_jeu['score'])\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863514.3029294}