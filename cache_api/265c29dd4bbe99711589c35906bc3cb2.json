{"nom_fichier": "game.py", "code": "# game.py\n\nimport random\nimport json\nfrom flask import Flask, request, render_template\n\napp = Flask(__name__)\n\n# Données du jeu stockées dans un fichier JSON\nwith open('donnees.json', 'r') as f:\n    donnees = json.load(f)\n\n# Liste des mots à jouer\nmots = donnees['mots']\n\n# État du jeu\netat = {'mot': '', 'lettres': [], 'erreurs': 0, 'score': 0}\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    return random.choice(mots)\n\n# Fonction pour afficher le pendu\ndef afficher_pendu(erreurs):\n    if erreurs == 6:\n        return '   0   \\n 0   0  \\n 0   0  \\n 0  0   \\n  0 0  '\n    if erreurs == 7:\n        return '   0   \\n 0   0  \\n 0   0  \\n 0  0   \\n  0 0 0'\n    if erreurs == 8:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  0 0 0'\n    if erreurs == 9:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  00 0'\n    if erreurs == 10:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  000'\n    if erreurs == 11:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  0000'\n    if erreurs == 12:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  0000'\n    if erreurs == 13:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  00000'\n    if erreurs == 14:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  00000'\n    if erreurs == 15:\n        return '   0   \\n 0  0  \\n 0   0  \\n 0  0   \\n  000000'\n    return ''\n\n# Fonction pour gérer la saisie de lettres\n@app.route('/', methods=['GET', 'POST'])\ndef saisie_lettre():\n    global etat\n    if request.method == 'POST':\n        lettre = request.form['lettre']\n        if len(lettre) != 1 or not lettre.isalpha():\n            return render_template('erreur.html', message='Saisissez une lettre')\n        if lettre in etat['lettres']:\n            return render_template('erreur.html', message='Lettre déjà saisie')\n        etat['lettres'].append(lettre)\n        if lettre not in etat['mot']:\n            etat['erreurs'] += 1\n        if etat['erreurs'] == 15:\n            return render_template('game_over.html')\n        if len(etat['lettres']) == len(etat['mot']):\n            return render_template('gagne.html')\n    return render_template('game.html', pendu=afficher_pendu(etat['erreurs']), lettres=etat['lettres'])\n\n# Fonction pour gérer le lancement du jeu\n@app.route('/lancer', methods=['GET'])\ndef lancer_jeu():\n    global etat\n    etat = {'mot': generer_mot(), 'lettres': [], 'erreurs': 0, 'score': 0}\n    return render_template('game.html', pendu=afficher_pendu(etat['erreurs']), lettres=etat['lettres'])\n\n# Fonction pour gérer l'interface\n@app.route('/interface')\ndef interface():\n    return render_template('interface.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766830254.3947713}