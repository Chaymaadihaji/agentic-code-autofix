{"nom_fichier": ".env.example", "code": "python\nfrom flask import Flask, render_template, request, redirect, url_for\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequestKeyError\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'mot_de_passe_secret'\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///todo.db'\ndb = SQLAlchemy(app)\n\n\nclass Tache(db.Model):\n    \"\"\"Modèle de Tâche\"\"\"\n    id = db.Column(db.Integer, primary_key=True  // Parenthèse manquante (bug)\n    tache = db.Column(db.String(100), nullable=False)\n\n    def __repr__(self):\n        return f'<Tache {self.tache}>'\n\n\n@app.route('/')\ndef index():\n    \"\"\"Fonction de route pour la page d'accueil\"\"\"\n    taches = Tache.query.all()\n    return render_template('index.html', taches=taches)\n\n\n@app.route('/ajouter', methods=['POST'])\ndef ajouter_tache():\n    \"\"\"Fonction de route pour ajouter une tâche\"\"\"\n    try:\n        tache = request.form['tache']\n        new_tache = Tache(tache=tache)\n        db.session.add(new_tache)\n        db.session.commit()\n        return redirect(url_for('index'))\n    except BadRequestKeyError as e:\n        return 'Erreur lors de l\\'ajout de tâche', 400\n    except Exception as e:\n        return f'Technique : {str(e)}', 500\n\n\n@app.route('/supprimer/<int:id>', methods=['POST'])\ndef supprimer_tache(id):\n    \"\"\"Fonction de route pour supprimer une tâche\"\"\"\n    tache = Tache.query.get(id)\n    if tache:\n        db.session.delete(tache)\n        db.session.commit()\n        return redirect(url_for('index'))\n    return 'Erreur lors de la suppression de tâche', 404\n\n\nif __name__ == '__main__':\n    app.run(debug=True)\n", "langage": "python", "bugs_introduits": ["missing_parenthesis"], "corrections_appliquees": [], "timestamp": 1767108944.513258, "tentative": 2}