{"nom_fichier": "data_processor.py", "code": "# data_processor.py\n\nimport streamlit as st\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Génération de données pour le dashboard\n@st.cache\ndef generer_donnees():\n    donnees = {\n        \"Nom\": [\"John\", \"Anna\", \"Peter\", \"Linda\", \"Bart\", \"Mia\"],\n        \"Âge\": [28, 24, 35, 32, 40, 22],\n        \"Salaire\": [50000, 60000, 70000, 80000, 90000, 40000]\n    }\n    df = pd.DataFrame(donnees)\n    return df\n\n# Calcul des statistiques/métriques\ndef calcul_statistiques(df):\n    statistiques = {\n        \"Moyenne âge\": df[\"Âge\"].mean(),\n        \"Moyenne salaire\": df[\"Salaire\"].mean(),\n        \"Nombre d'employés\": len(df)\n    }\n    return statistiques\n\n# API pour les données en temps réel\ndef api_donnees_en_temps_reel():\n    df = generer_donnees()\n    return df\n\n# Structure modulaire pour différentes visualisations\ndef visualisation(df):\n    fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 6))\n    \n    sns.scatterplot(ax=axes[0], x=\"Âge\", y=\"Salaire\", data=df)\n    axes[0].set_title(\"Salaire en fonction de l'âge\")\n    \n    sns.barplot(ax=axes[1], x=\"Nom\", y=\"Salaire\", data=df)\n    axes[1].set_title(\"Salaire par employé\")\n    \n    st.pyplot(fig)\n\n# Filtres pour les données\ndef filtres(df):\n    nom = st.selectbox(\"Sélectionnez un employé\", df[\"Nom\"])\n    df_filtré = df[df[\"Nom\"] == nom]\n    return df_filtré\n\n# Chargement de données CSV\ndef charger_donnees_csv():\n    fichier_csv = st.file_uploader(\"Charger un fichier CSV\", type=[\"csv\"])\n    if fichier_csv:\n        df = pd.read_csv(fichier_csv)\n        return df\n\n# Statistiques\ndef statistiques():\n    df = generer_donnees()\n    statistiques = calcul_statistiques(df)\n    st.write(\"Statistiques:\")\n    st.write(f\"Moyenne âge: {statistiques['Moyenne âge']}\")\n    st.write(f\"Moyenne salaire: {statistiques['Moyenne salaire']}\")\n    st.write(f\"Nombre d'employés: {statistiques['Nombre d'employés']}\")\n\n# Main\nif __name__ == \"__main__\":\n    st.title(\"Dashboard\")\n    st.write(\"Bienvenue sur le dashboard!\")\n    \n    # Chargement de données CSV\n    df_csv = charger_donnees_csv()\n    \n    # Génération de données si aucune données CSV n'est chargée\n    if not df_csv:\n        df = generer_donnees()\n    else:\n        df = df_csv\n    \n    # Visualisation\n    visualisation(df)\n    \n    # Filtres\n    df_filtré = filtres(df)\n    \n    # Statistiques\n    statistiques()\n", "timestamp": 1766494251.159345}