{"nom_fichier": "main.py", "code": "import random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Fichier de données contenant les mots\nmots = ['apple', 'banana', 'cherry', 'date', 'elderberry']\n\n# Fichier de données contenant les scores\nscores = {}\n\n# Nombre maximum de tentatives\nmax_tentatives = 6\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    return random.choice(mots)\n\n# Fonction pour compter les tentatives\ndef compter_tentatives(mot, tentatives):\n    return len([c for c in mot if c not in tentatives])\n\n# Fonction pour afficher l'état du jeu\ndef afficher_etat(mot, tentatives, score):\n    return {\n        'mot': mot,\n        'tentatives': tentatives,\n        'score': score,\n        'gagner': not tentatives or len(tentatives) == len(mot),\n        'perte': len(tentatives) > max_tentatives\n    }\n\n# Route pour afficher la page de jeu\n@app.route('/')\ndef jeu():\n    mot = generer_mot()\n    tentatives = ''\n    score = 0\n\n    return render_template('index.html', etat=afficher_etat(mot, tentatives, score))\n\n# Route pour traiter la saisie utilisateur\n@app.route('/traiter', methods=['POST'])\ndef traiter():\n    mot = request.form['mot']\n    tentatives = request.form['tentatives']\n    score = request.form['score']\n\n    # Compter les tentatives\n    tentatives = list(tentatives)\n    tentatives.append(request.form['lettre'])\n    tentatives.sort()\n\n    # Vérifier si le joueur a gagné\n    if afficher_etat(mot, tentatives, score)['gagner']:\n        scores[score] = scores.get(score, 0) + 1\n        return 'Félicitations, vous avez gagné !'\n    elif afficher_etat(mot, tentatives, score)['perte']:\n        return 'Désolé, vous avez perdu !'\n\n    return render_template('index.html', etat=afficher_etat(mot, tentatives, score))\n\n# Route pour afficher les scores\n@app.route('/scores')\ndef scores():\n    return render_template('scores.html', scores=scores)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861812.130053}