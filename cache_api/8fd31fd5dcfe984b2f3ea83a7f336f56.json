{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Gestion des scores\nscores = {\n    'pierre': 0,\n    'papier': 0,\n    'ciseaux': 0\n}\n\n# Historique des parties\nparties = []\n\n# Logique du jeu\ndef jeu(joueur1, joueur2):\n    if joueur1 == joueur2:\n        return \"Egalité\"\n    if (joueur1 == 'pierre' and joueur2 == 'ciseaux') or (joueur1 == 'papier' and joueur2 == 'pierre') or (joueur1 == 'ciseaux' and joueur2 == 'papier'):\n        return \"Joueur 1 gagne\"\n    else:\n        return \"Joueur 2 gagne\"\n\n# Fonction pour gérer l'interface utilisateur\ndef interface():\n    choix_joueur1 = request.form['choix_joueur1']\n    choix_joueur2 = random.choice(['pierre', 'papier', 'ciseaux'])\n    resultat = jeu(choix_joueur1, choix_joueur2)\n    scores[choix_joueur1] += 1 if resultat == \"Joueur 1 gagne\" else 0\n    parties.append({\n        'joueur1': choix_joueur1,\n        'joueur2': choix_joueur2,\n        'resultat': resultat\n    })\n    return render_template('index.html', scores=scores, parties=parties)\n\n# Route pour l'interface utilisateur\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    if request.method == 'POST':\n        return interface()\n    return render_template('index.html', scores=scores, parties=parties)\n\n# Route pour afficher les scores et l'historique\n@app.route('/scores', methods=['GET'])\ndef scores_route():\n    return render_template('scores.html', scores=scores, parties=parties)\n\n# Route pour afficher l'historique\n@app.route('/historique', methods=['GET'])\ndef historique_route():\n    return render_template('historique.html', parties=parties)\n\n# Lancement de l'app\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766748961.5944989}