{"nom_fichier": "player.py", "code": "import random\nfrom flask import Flask, render_template, request\nimport json\n\napp = Flask(__name__)\n\n# Chargement des mots à deviner depuis un fichier JSON\nwith open('mots.json', 'r') as f:\n    mots = json.load(f)\n\n# Initialisation des variables de jeu\nmot_a_deviner = random.choice(mots['mots'])\ntentatives = 6\nlettres_utilisees = []\nscore = 0\n\n# Fonction pour vérifier si le mot contient la lettre\ndef verifie_lettre(lettre):\n    return lettre in mot_a_deviner\n\n# Fonction pour afficher le tableau de lettres\ndef affiche_tableau():\n    tableau = [['' for _ in range(len(mot_a_deviner))] for _ in range(6)]\n    for i, lettre in enumerate(mot_a_deviner):\n        if lettre in lettres_utilisees:\n            tableau[0][i] = lettre\n    for i, tentative in enumerate(tentatives - 1):\n        tableau[i + 1] = ['-' for _ in range(len(mot_a_deviner))]\n    return tableau\n\n# Fonction pour gérer la saisie de lettres\n@app.route('/saisie_lettre', methods=['POST'])\ndef saisie_lettre():\n    global tentatives, lettres_utilisees, score\n    lettre = request.form['lettre']\n    if lettre in lettres_utilisees:\n        score -= 1\n    elif verifie_lettre(lettre):\n        score += 1\n    else:\n        tentatives -= 1\n        lettres_utilisees.append(lettre)\n    return 'Score : ' + str(score) + ', Tentatives restantes : ' + str(tentatives)\n\n# Fonction pour générer le mot à deviner\n@app.route('/nouveau_mot', methods=['POST'])\ndef nouveau_mot():\n    global mot_a_deviner, tentatives, lettres_utilisees, score\n    mot_a_deviner = random.choice(mots['mots'])\n    tentatives = 6\n    lettres_utilisees = []\n    score = 0\n    return 'Nouveau mot généré !'\n\n# Fonction pour afficher l'état du jeu\n@app.route('/')\ndef etat_jeu():\n    return render_template('index.html', tableau=affiche_tableau(), lettres_utilisees=lettres_utilisees, score=score, tentatives=tentatives)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831407.4697466}