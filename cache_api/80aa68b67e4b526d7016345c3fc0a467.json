{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Données de jeu\nwith open('donnees_jeu.json') as f:\n    donnees_jeu = json.load(f)\n\n# Liste de mots\nmots = donnees_jeu['mots']\n\n# Choisir mot au hasard\nmot_secret = random.choice(mots)\n\n# Compteur de tentatives\ntentatives = 10\n\n# État du jeu\netat_jeu = {\n    'mot_secret': mot_secret,\n    'tentatives': tentatives,\n    'lettres_proposes': [],\n    'lettres_trouvees': [],\n    'etat_jeu': 'en_cours'\n}\n\n# Route pour afficher le formulaire\n@app.route('/', methods=['GET'])\ndef formulaire():\n    return render_template('formulaire.html', etat_jeu=etat_jeu)\n\n# Route pour traiter la proposition de lettre\n@app.route('/', methods=['POST'])\ndef traiter_proposition():\n    global tentatives\n    global etat_jeu\n    lettre = request.form['lettre']\n    etat_jeu['lettres_proposes'].append(lettre)\n    if lettre in mot_secret:\n        etat_jeu['lettres_trouvees'].append(lettre)\n    else:\n        tentatives -= 1\n        etat_jeu['tentatives'] = tentatives\n        if tentatives == 0:\n            etat_jeu['etat_jeu'] = 'perdu'\n    if ''.join(etat_jeu['lettres_trouvees']) == mot_secret:\n        etat_jeu['etat_jeu'] = 'gagne'\n    return render_template('formulaire.html', etat_jeu=etat_jeu)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861783.0510287}