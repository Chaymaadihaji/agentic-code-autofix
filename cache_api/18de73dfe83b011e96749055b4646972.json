{"nom_fichier": "player.py", "code": "# player.py\nimport random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\nclass Joueur:\n    def __init__(self, mot):\n        self.mot = mot\n        self.lettres_tries = ''\n        self.score = 0\n        self.niveau = 1\n\n    def generer_mot(self):\n        return ''.join(random.choice(string.ascii_lowercase) for _ in range(8))\n\n    def saisie_lettre(self, lettre):\n        if lettre in self.mot and lettre not in self.lettres_tries:\n            self.lettres_tries += lettre\n            return True\n        elif lettre not in self.mot and lettre not in self.lettres_tries:\n            self.lettres_tries += lettre\n            return False\n        return False\n\n    def afficher_resultat(self):\n        resultats = ''\n        for lettre in self.mot:\n            if lettre in self.lettres_tries:\n                resultats += lettre + ' '\n            else:\n                resultats += '_ '\n        return resultats\n\n    def incrimenter_score(self):\n        self.score += 1\n\n    def incremente_niveau(self):\n        self.niveau += 1\n\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    joueur = Joueur('parapluie')\n    if request.method == 'POST':\n        lettre = request.form['lettre']\n        resultats = joueur.afficher_resultat()\n        if joueur.saisie_lettre(lettre):\n            if '_' not in resultats:\n                joueur.incrimenter_score()\n                joueur.incremente_niveau()\n                return render_template('win.html', score=joueur.score, niveau=joueur.niveau)\n            return render_template('game.html', resultats=resultats, lettre=lettre, score=joueur.score, niveau=joueur.niveau)\n        else:\n            return render_template('game.html', resultats=resultats, lettre=lettre, score=joueur.score, niveau=joueur.niveau)\n    return render_template('game.html', score=joueur.score, niveau=joueur.niveau)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831471.4331017}