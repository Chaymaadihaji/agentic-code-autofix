{"nom_fichier": "main.py", "code": "# main.py\n\nimport json\nfrom flask import Flask, request, render_template\nfrom werkzeug.utils import secure_filename\n\napp = Flask(__name__)\n\n# Chemin d'accès aux fichiers\nUPLOAD_FOLDER = 'uploads'\napp.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER\n\n# Fonction de validation des caractères Unicode\ndef valide_caractere_unicode(char):\n    return ord(char) >= 0 and ord(char) <= 0x10FFFF\n\n# Fonction de validation des noms de variables avec accents\ndef valide_nom_variable(nom):\n    return any(c.isalnum() or c in '_-' for c in nom)\n\n# Fonction de gestion des caractères Unicode\n@app.route('/unicode', methods=['POST'])\ndef gestion_unicode():\n    data = request.get_json()\n    caracteres = data['caracteres']\n    if all(valide_caractere_unicode(char) for char in caracteres):\n        return json.dumps({'resultat': 'ok'})\n    else:\n        return json.dumps({'resultat': 'erreur'}), 400\n\n# Fonction de gestion des noms de variables avec accents\n@app.route('/nom_variable', methods=['POST'])\ndef gestion_nom_variable():\n    data = request.get_json()\n    nom = data['nom']\n    if valide_nom_variable(nom):\n        return json.dumps({'resultat': 'ok'})\n    else:\n        return json.dumps({'resultat': 'erreur'}), 400\n\n# Route d'index\n@app.route('/')\ndef index():\n    return render_template('index.html')\n\n# Route de formulaire\n@app.route('/formulaire', methods=['GET', 'POST'])\ndef formulaire():\n    if request.method == 'POST':\n        nom = request.form['nom']\n        caracteres = request.form['caracteres']\n        return render_template('resultat.html', nom=nom, caracteres=caracteres)\n    else:\n        return render_template('formulaire.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831809.3468266}