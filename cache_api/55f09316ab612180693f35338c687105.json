{"nom_fichier": "models.py", "code": "python\n# models.py\n# Import des bibliothèques nécessaires\nimport pandas as pd\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.exceptions import NotFittedError\n\nclass ModeleDeClasse:\n    \"\"\"Classe pour créer et entraîner un modèle de classification\"\"\"\n    \n    def __init__(self, x: pd.DataFrame, y: pd.Series):\n        \"\"\"Initialisation du modèle\"\"\"\n        \n        self.x = x\n        self.y = y\n        self.model = None\n\n    def diviser_les_donnees(self):\n        \"\"\"Diviser les données en train et test\"\"\"\n        \n        try:\n            self.x_train, self.x_test, self.y_train, self.y_test = train_test_split(self.x, self.y, test_size=0.2, random_state=42)\n            return self.x_train, self.x_test, self.y_train, self.y_test\n        except ValueError as e:\n            print(f\"Erreur lors de la division des données : {e}\")\n            raise\n\n    def entraîner_le_model(self):\n        \"\"\"Entraîner le modèle de classification\"\"\"\n        \n        try:\n            self.model = LogisticRegression()\n            self.model.fit(self.x_train, self.y_train)\n            return self.model\n        except NotFittedError as e:\n            print(f\"Le modèle doit être entraîné avant de faire une prédiction : {e}\")\n            raise\n\n    def faire_predict(self):\n        \"\"\"Faire des prédictions avec le modèle\"\"\"\n        \n        try:\n            if self.model is None:\n                raise NotFittedError(\"Le modèle doit être entraîné avant de faire une prédiction\")\n            self.y_pred = self.model.predict(self.x_test)\n            return self.y_pred\n        except NotFittedError as e:\n            print(f\"Erreur lors de la prédiction : {e}\")\n            raise\n\n    def évaluer_le_model(self):\n        \"\"\"Évaluer la performance du modèle\"\"\"\n        \n        try:\n            self.y_pred = self faire_predict()\n            self.score = accuracy_score(self.y_test, self.y_pred)\n            return self.score\n        except Exception as e:\n            print(f\"Erreur lors de l'évaluation du modèle : {e}\")\n            raise\n\n# Créer un exemple de données\nif __name__ == \"__main__\":\n    # Import des données\n    from sklearn.datasets import load_iris\n    iris = load_iris()\n    df = pd.DataFrame(data=iris.data, columns=iris.feature_names)\n    df['target'] = iris.target\n\n    # Créer un objet de la classe ModeleDeClasse\n    modele = ModeleDeClasse(df, df['target'])\n\n    # Diviser les données en train et test\n    x_train, x_test, y_train, y_test = modele.diviser_les_donnees()\n\n    # Entraîner le modèle\n    modele.entraîner_le_model()\n\n    # Faire des prédictions\n    y_pred = modele.faire_predict()\n\n    # Évaluer la performance du modèle\n    score = modele.évaluer_le_model()\n    print(f\"Score du modèle : {score}\")\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767103675.4390812, "tentative": 4}