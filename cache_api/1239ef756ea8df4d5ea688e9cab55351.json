{"nom_fichier": "main.py", "code": "import pygame\nimport random\nimport sys\n\n# Constantes\nWIDTH, HEIGHT = 800, 600\nWHITE = (255, 255, 255)\nRED = (255, 0, 0)\nGREEN = (0, 255, 0)\nBLUE = (0, 0, 255)\n\nclass Player(pygame.Rect):\n    def __init__(self):\n        super().__init__(WIDTH / 2, HEIGHT / 2, 50, 50)\n        self.vies = 3\n\n    def move(self):\n        keys = pygame.key.get_pressed()\n        if keys[pygame.K_UP]:\n            self.y -= 5\n        if keys[pygame.K_DOWN]:\n            self.y += 5\n        if keys[pygame.K_LEFT]:\n            self.x -= 5\n        if keys[pygame.K_RIGHT]:\n            self.x += 5\n\nclass Ennemi(pygame.Rect):\n    def __init__(self):\n        super().__init__(random.randint(0, WIDTH), random.randint(0, HEIGHT), 50, 50)\n\n    def move(self):\n        self.x += random.randint(-5, 5)\n        self.y += random.randint(-5, 5)\n\nclass Piece(pygame.Rect):\n    def __init__(self):\n        super().__init__(random.randint(0, WIDTH), random.randint(0, HEIGHT), 50, 50)\n\nclass Plateforme(pygame.Rect):\n    def __init__(self):\n        super().__init__(random.randint(0, WIDTH), random.randint(0, HEIGHT), 200, 50)\n\nclass Boss(pygame.Rect):\n    def __init__(self):\n        super().__init__(WIDTH / 2, HEIGHT / 2, 100, 100)\n\ndef afficher_texte(texte, x, y, taille, couleur):\n    police = pygame.font.SysFont('Arial', taille)\n    texte = police.render(texte, True, couleur)\n    ecran.blit(texte, (x, y))\n\ndef jeu():\n    pygame.init()\n    global ecran\n    ecran = pygame.display.set_mode((WIDTH, HEIGHT))\n    pygame.display.set_caption('Jeu de plateforme')\n    clock = pygame.time.Clock()\n\n    player = Player()\n    ennemis = [Ennemi() for _ in range(5)]\n    pièces = [Piece() for _ in range(5)]\n    plateformes = [Plateforme() for _ in range(5)]\n    boss = Boss()\n\n    score = 0\n    while True:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n                sys.exit()\n            if event.type == pygame.MOUSEBUTTONDOWN:\n                if player.collidepoint(event.pos):\n                    score += 1\n                    player.vies += 1\n\n        ecran.fill(WHITE)\n        player.move()\n        for ennemi in ennemis:\n            ennemi.move()\n            if ennemi.colliderect(player):\n                player.vies -= 1\n                ennemis.remove(ennemi)\n        for pièce in pièces:\n            if pièce.colliderect(player):\n                score += 1\n                pièces.remove(pièce)\n        for plateforme in plateformes:\n            plateforme.move()\n            if plateforme.colliderect(player):\n                player.vies -= 1\n                plateformes.remove(plateforme)\n        boss.move()\n        if boss.colliderect(player):\n            player.vies -= 1\n\n        afficher_texte(f'Score : {score}', 10, 10, 24, BLACK)\n        afficher_texte(f'Vies : {player.vies}', 10, 40, 24, BLACK)\n        pygame.draw.rect(ecran, RED, player)\n        for ennemi in ennemis:\n            pygame.draw.rect(ecran, BLUE, ennemi)\n        for pièce in pièces:\n            pygame.draw.rect(ecran, GREEN, pièce)\n        for plateforme in plateformes:\n            pygame.draw.rect(ecran, WHITE, plateforme)\n        pygame.draw.rect(ecran, RED, boss)\n        pygame.display.flip()\n        clock.tick(60)\n\n        if player.vies <= 0:\n            print(f'Vous avez perdu ! Votre score : {score}')\n            break\n\n        if len(ennemis) == 0 and len(pièces) == 0 and len(plateformes) == 0:\n            print(f'Vous avez gagné ! Votre score : {score}')\n            break\n\ndef main():\n    pygame.init()\n    global ecran\n    ecran = pygame.display.set_mode((WIDTH, HEIGHT))\n    pygame.display.set_caption('Jeu de plateforme')\n    clock = pygame.time.Clock()\n\n    jeu()\n\n    pygame.quit()\n\nif __name__ == \"__main__\":\n    main()\n", "timestamp": 1766865089.7382805}