{"nom_fichier": "README.md", "code": "# app.py\nfrom flask import Flask, render_template, request, redirect, url_for\nfrom flask_sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database.db'\ndb = SQLAlchemy(app)\n\nclass Patient(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    nom = db.Column(db.String(100), nullable=False)\n    prenom = db.Column(db.String(100), nullable=False)\n\nclass Ordonnance(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    medicament = db.Column(db.String(100), nullable=False)\n    quantite = db.Column(db.Integer, nullable=False)\n\n@app.route('/')\ndef index():\n    patients = Patient.query.all()\n    ordonnances = Ordonnance.query.all()\n    return render_template('index.html', patients=patients, ordonnances=ordonnances)\n\n@app.route('/patients')\ndef liste_patients():\n    patients = Patient.query.all()\n    return render_template('patients.html', patients=patients)\n\n@app.route('/ordonnances')\ndef liste_ordonnances():\n    ordonnances = Ordonnance.query.all()\n    return render_template('ordonnances.html', ordonnances=ordonnances)\n\n@app.route('/ajouter_patient', methods=['GET', 'POST'])\ndef ajouter_patient():\n    if request.method == 'POST':\n        nom = request.form['nom']\n        prenom = request.form['prenom']\n        patient = Patient(nom=nom, prenom=prenom)\n        db.session.add(patient)\n        db.session.commit()\n        return redirect(url_for('liste_patients'))\n    return render_template('ajouter_patient.html')\n\n@app.route('/ajouter_ordonnance', methods=['GET', 'POST'])\ndef ajouter_ordonnance():\n    if request.method == 'POST':\n        medicament = request.form['medicament']\n        quantite = request.form['quantite']\n        ordonnance = Ordonnance(medicament=medicament, quantite=quantite)\n        db.session.add(ordonnance)\n        db.session.commit()\n        return redirect(url_for('liste_ordonnances'))\n    return render_template('ajouter_ordonnance.html')\n\nif __name__ == '__main__':\n    app.run(debug=True)\n", "timestamp": 1766765519.025463}