{"nom_fichier": "data_processor.py", "code": "# data_processor.py\n\nimport pandas as pd\nimport requests\nimport json\nfrom flask import Flask, render_template\nfrom bokeh.plotting import figure, show\nfrom bokeh.embed import components\nfrom bokeh.models import ColumnDataSource, HoverTool\n\napp = Flask(__name__)\n\n# Génération de données pour le dashboard\ndef generer_donnees_meteo():\n    donnees = {\n        'temperature': [23, 25, 22, 24, 26],\n        'humidite': [60, 55, 65, 58, 62],\n        'pression': [1013, 1015, 1012, 1014, 1016]\n    }\n    return pd.DataFrame(donnees)\n\n# Calcul des statistiques/métriques\ndef calcul_statistiques(df):\n    statistiques = {\n        'moyenne_temperature': df['temperature'].mean(),\n        'moyenne_humidite': df['humidite'].mean(),\n        'moyenne_pression': df['pression'].mean()\n    }\n    return pd.Series(statistiques)\n\n# API pour les données en temps réel\ndef obtenir_donnees_temporelles():\n    url = 'https://api.openweathermap.org/data/2.5/weather?q=Paris&appid=YOUR_API_KEY'\n    response = requests.get(url)\n    return response.json()\n\n# Générer les graphiques\ndef generer_graphiques(df):\n    p = figure(title=\"Graphique de la température\",\n               x_axis_label='Date',\n               y_axis_label='Température')\n    p.line(df.index, df['temperature'], legend_label=\"Température\", line_width=2)\n    p.line(df.index, df['humidite'], legend_label=\"Humidité\", line_width=2)\n    p.line(df.index, df['pression'], legend_label=\"Pression\", line_width=2)\n    script, div = components(p)\n    return script, div\n\n# Générer les cartes\ndef generer_cartes(df):\n    p = figure(title=\"Carte de la météo\",\n               x_axis_label='Longitude',\n               y_axis_label='Latitude')\n    p.circle([0, 1, 2, 3, 4], [0, 1, 2, 3, 4], size=10)\n    script, div = components(p)\n    return script, div\n\n# Route pour le dashboard\n@app.route('/')\ndef index():\n    df = generer_donnees_meteo()\n    statistiques = calcul_statistiques(df)\n    donnees_temporelles = obtenir_donnees_temporelles()\n    script, div = generer_graphiques(df)\n    script_cartes, div_cartes = generer_cartes(df)\n    return render_template('index.html', script=script, div=div, script_cartes=script_cartes, div_cartes=div_cartes, statistiques=statistiques, donnees_temporelles=donnees_temporelles)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766829863.95264}