{"nom_fichier": "main.py", "code": "import dash\nimport dash_core_components as dcc\nimport dash_html_components as html\nfrom dash.dependencies import Input, Output\nimport plotly.express as px\nimport pandas as pd\n\n# Données de test\ntaches = [\n    {\"nom\": \"Tâche 1\", \"statut\": \"en attente\"},\n    {\"nom\": \"Tâche 2\", \"statut\": \"en cours\"},\n    {\"nom\": \"Tâche 3\", \"statut\": \"terminée\"}\n]\n\n# Tableau de données\ndf = pd.DataFrame(taches)\n\napp = dash.Dash(__name__)\n\napp.layout = html.Div([\n    html.H1(\"Gestionnaire de Tâches\"),\n    html.Div([\n        html.H2(\"Liste des tâches\"),\n        html.Table([\n            html.Tr([html.Th(\"Nom\"), html.Th(\"Statut\")]),\n            html.Tbody([\n                html.Tr([html.Td(tache[\"nom\"]), html.Td(tache[\"statut\"])]) for tache in taches\n            ])\n        ])\n    ]),\n    html.Div([\n        html.H2(\"Statistiques\"),\n        html.Div([\n            html.H3(\"Nombre de tâches en attente:\"),\n            html.P(str(df[df[\"statut\"] == \"en attente\"].shape[0])),\n            html.H3(\"Nombre de tâches en cours:\"),\n            html.P(str(df[df[\"statut\"] == \"en cours\"].shape[0])),\n            html.H3(\"Nombre de tâches terminées:\"),\n            html.P(str(df[df[\"statut\"] == \"terminée\"].shape[0]))\n        ])\n    ]),\n    dcc.Graph(\n        id=\"statut-tache\",\n        figure=px.bar(df, x=\"nom\", y=\"statut\", color=\"statut\", barmode=\"group\")\n    ),\n    html.Div([\n        html.H2(\"Créer une nouvelle tâche\"),\n        html.Form([\n            html.Label(\"Nom de la tâche\"),\n            dcc.Input(id=\"nom-tache\", type=\"text\"),\n            html.Br(),\n            html.Label(\"Statut de la tâche\"),\n            dcc.Dropdown(id=\"statut-tache\", options=[\n                {\"label\": \"en attente\", \"value\": \"en attente\"},\n                {\"label\": \"en cours\", \"value\": \"en cours\"},\n                {\"label\": \"terminée\", \"value\": \"terminée\"}\n            ]),\n            html.Br(),\n            html.Button(\"Ajouter\", id=\"ajouter-tache\"),\n            html.Div(id=\"resultat\")\n        ])\n    ])\n])\n\n@app.callback(\n    Output(\"resultat\", \"children\"),\n    [Input(\"ajouter-tache\", \"n_clicks\")]\n)\ndef ajouter_tache(n_clicks):\n    if n_clicks:\n        nom_tache = app.callback_context.inputs.nom_tache.value\n        statut_tache = app.callback_context.inputs.statut_tache.value\n        taches.append({\"nom\": nom_tache, \"statut\": statut_tache})\n        df = pd.DataFrame(taches)\n        return html.P(f\"Tâche ajoutée: {nom_tache} ({statut_tache})\")\n\nif __name__ == \"__main__\":\n    app.run_server(debug=True)\n", "timestamp": 1766328364.1985176}