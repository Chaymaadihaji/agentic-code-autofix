{"nom_fichier": "main.py", "code": "# main.py\nimport random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Fichier JSON contenant les mots\nmots = json.load(open('mots.json'))\n\n# Fonction de génération de mots au hasard\ndef mot_aleatoire():\n    return random.choice(list(mots.keys()))\n\n# Fonction de gestion du jeu\nclass Jeu:\n    def __init__(self):\n        self.mot = mot_aleatoire()\n        self.lettres = ['_'] * len(self.mot)\n        self.essais = 6\n        self.score = 0\n\n    def afficher_pendu(self):\n        return self.essais\n\n    def verifier_lettre(self, lettre):\n        if lettre in self.mot:\n            for i in range(len(self.mot)):\n                if self.mot[i] == lettre:\n                    self.lettres[i] = lettre\n        else:\n            self.essais -= 1\n\n    def gagner(self):\n        return '_' not in self.lettres\n\n    def perdre(self):\n        return self.essais == 0\n\n# Fonction de saisie de lettres par l'utilisateur\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    jeu = Jeu()\n    if request.method == 'POST':\n        lettre = request.form['lettre']\n        jeu.verifier_lettre(lettre)\n        if jeu.gagner():\n            jeu.score += 1\n            return render_template('gagne.html', jeu=jeu)\n        elif jeu.perdre():\n            return render_template('perdu.html', jeu=jeu)\n    return render_template('index.html', jeu=jeu)\n\n# Route pour afficher le score\n@app.route('/score')\ndef score():\n    return 'Votre score est de ' + str(Jeu().score)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766830292.8041916}