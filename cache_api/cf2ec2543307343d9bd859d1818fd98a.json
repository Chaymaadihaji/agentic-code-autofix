{"nom_fichier": "ui.py", "code": "# ui.py\n\nimport random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Dictionnaire de mots à deviner\nmots = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\"]\n\n# Variable pour stocker la lettre saisie\nlettre_saisie = \"\"\n\n# Variable pour stocker le mot à deviner\nmot_a_deviner = random.choice(mots)\n\n# Variable pour stocker le score\nscore = 0\n\n# Variable pour stocker le nombre d'essais\nessais = 6\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    return random.choice(mots)\n\n# Fonction pour vérifier si la lettre est dans le mot\ndef verifier_lettre(lettre):\n    for char in mot_a_deviner:\n        if char == lettre:\n            return True\n    return False\n\n# Fonction pour afficher le résultat\ndef afficher_resultat():\n    resultats = []\n    for char in mot_a_deviner:\n        if char in lettre_saisie:\n            resultats.append(char)\n        else:\n            resultats.append(\"_\")\n    return \" \".join(resultats)\n\n# Route pour afficher la page d'accueil\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\", score=score, essais=essais, mot_a_deviner=mot_a_deviner, lettre_saisie=lettre_saisie)\n\n# Route pour traiter la saisie de la lettre\n@app.route(\"/saisir_lettre\", methods=[\"POST\"])\ndef saisir_lettre():\n    global lettre_saisie, mot_a_deviner, score, essais\n    lettre = request.form[\"lettre\"]\n    if len(lettre) != 1 or not lettre.isalpha():\n        return \"Veuillez saisir une lettre !\"\n    if lettre in lettre_saisie:\n        return \"Vous avez déjà saisir cette lettre !\"\n    if not verifier_lettre(lettre):\n        essais -= 1\n        if essais == 0:\n            return \"Vous avez perdu !\"\n    else:\n        score += 1\n    lettre_saisie += lettre\n    if \"_\" not in afficher_resultat():\n        return \"Vous avez gagné !\"\n    mot_a_deviner = generer_mot()\n    return render_template(\"index.html\", score=score, essais=essais, mot_a_deviner=mot_a_deviner, lettre_saisie=lettre_saisie)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863407.2724845}