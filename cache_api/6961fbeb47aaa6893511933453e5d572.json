{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Gestion des scores\nscores = {\n    'joueur1': 0,\n    'joueur2': 0\n}\n\n# Historique des parties\nhistorique = []\n\n# Fonction pour générer un choix aléatoire\ndef generer_choix():\n    return random.choice(['pierre', 'papier', 'ciseaux'])\n\n# Fonction pour déterminer le gagnant\ndef determiner_gagnant(choix_joueur1, choix_joueur2):\n    if choix_joueur1 == choix_joueur2:\n        return 'égalité'\n    if (choix_joueur1 == 'pierre' and choix_joueur2 == 'ciseaux') or \\\n       (choix_joueur1 == 'papier' and choix_joueur2 == 'pierre') or \\\n       (choix_joueur1 == 'ciseaux' and choix_joueur2 == 'papier'):\n        return 'joueur1'\n    return 'joueur2'\n\n# Route pour afficher l'écran de jeu\n@app.route('/')\ndef jeu():\n    return render_template('jeu.html')\n\n# Route pour traiter le formulaire de jeu\n@app.route('/jeu', methods=['POST'])\ndef traiter_jeu():\n    choix_joueur1 = request.form['choix_joueur1']\n    choix_joueur2 = generer_choix()\n    gagnant = determiner_gagnant(choix_joueur1, choix_joueur2)\n    scores[gagnant] += 1\n    historique.append({'choix_joueur1': choix_joueur1, 'choix_joueur2': choix_joueur2, 'gagnant': gagnant})\n    return render_template('resultat.html', choix_joueur1=choix_joueur1, choix_joueur2=choix_joueur2, gagnant=gagnant)\n\n# Route pour afficher l'historique\n@app.route('/historique')\ndef historique_jeu():\n    return render_template('historique.html', historique=historique)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766493309.7568793}