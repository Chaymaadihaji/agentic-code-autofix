{"nom_fichier": "ui.py", "code": "# ui.py\nfrom flask import Flask, render_template, request\nimport random\nimport json\n\napp = Flask(__name__)\n\n# Charger les mots au hasard\nwith open('mots.json') as f:\n    mots = json.load(f)\n\n# Initialiser l'état du jeu\ntentatives = 6\nmot = random.choice(list(mots.keys()))\nlettre_utilisee = []\netat = {'mot': ['_'] * len(mot), 'tentatives': tentatives}\n\n# Route pour afficher la page de jeu\n@app.route('/')\ndef jeu():\n    return render_template('jeu.html', etat=etat, mots=mots)\n\n# Route pour traiter les lettres\n@app.route('/traiter', methods=['POST'])\ndef traiter():\n    global tentatives, lettre_utilisee, mot\n    lettre = request.form['lettre']\n    if lettre in lettre_utilisee:\n        return 'Vous avez déjà utilisé cette lettre !'\n    lettre_utilisee.append(lettre)\n    if lettre in mot:\n        for i, l in enumerate(mot):\n            if l == lettre:\n                etat['mot'][i] = lettre\n    else:\n        tentatives -= 1\n    etat['tentatives'] = tentatives\n    if '_' not in etat['mot']:\n        return 'Félicitations, vous avez gagné !'\n    elif tentatives == 0:\n        return 'Désolé, vous avez perdu ! Le mot était ' + mot\n    return render_template('jeu.html', etat=etat, mots=mots)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861802.3247442}