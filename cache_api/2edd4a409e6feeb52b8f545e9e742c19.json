{"nom_fichier": "main.py", "code": "import random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Liste de mots pour le jeu\nmots = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\"]\n\n# Ã‰tat du jeu\netat_jeu = {\n    \"mot_secrete\": \"\",\n    \"lettres_utilisees\": [],\n    \"erreurs\": 0,\n    \"score\": 0\n}\n\n@app.route(\"/\")\ndef index():\n    return render_template(\"index.html\")\n\n@app.route(\"/nouveau_jeu\", methods=[\"POST\"])\ndef nouveau_jeu():\n    global etat_jeu\n    etat_jeu = {\n        \"mot_secrete\": random.choice(mots),\n        \"lettres_utilisees\": [],\n        \"erreurs\": 0,\n        \"score\": 0\n    }\n    return render_template(\"jeu.html\", etat_jeu=etat_jeu)\n\n@app.route(\"/essai\", methods=[\"POST\"])\ndef essai():\n    global etat_jeu\n    lettre = request.form[\"lettre\"]\n    if lettre in etat_jeu[\"mot_secrete\"]:\n        etat_jeu[\"score\"] += 1\n    else:\n        etat_jeu[\"erreurs\"] += 1\n    etat_jeu[\"lettres_utilisees\"].append(lettre)\n    return render_template(\"jeu.html\", etat_jeu=etat_jeu)\n\n@app.route(\"/score\")\ndef score():\n    global etat_jeu\n    return render_template(\"score.html\", etat_jeu=etat_jeu)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863372.3820791}