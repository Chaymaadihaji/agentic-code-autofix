{"nom_fichier": "src/index.js", "code": "javascript\n// src/index.js\n\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { PersistGate } from 'redux-persist/integration/react';\n\n// Import les composants\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport TodoList from './components/TodoList';\nimport TodoForm from './components/TodoForm';\n\n// Import les styles\nimport './index.css';\n\n// Import les librairies\nimport { TailwindProvider } from 'tailwindcss/react';\nimport 'tailwindcss/base';\nimport 'tailwindcss/components';\nimport 'tailwindcss/utilities';\n\n// Créer le store Redux\nconst persistConfig = {\n  key: 'root',\n  storage,\n};\n\nconst persistedReducer = persistReducer(persistConfig, reducer);\n\nconst store = createStore(\n  persistedReducer,\n  applyMiddleware(thunk)\n);\n\nconst persistor = persistStore(store);\n\n// Fonction de connexion à la base de données\nasync function connectToDatabase() {\n  try {\n    // Connexion à la base de données MongoDB\n    const mongoose = require('mongoose');\n    await mongoose.connect('mongodb://localhost:27017/todo-list', {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    });\n    console.log('Connexion à la base de données réussie');\n  } catch (error) {\n    console.error('Erreur de connexion à la base de données:', error);\n  }\n}\n\n// Fonction de déconnexion de la base de données\nasync function disconnectFromDatabase() {\n  try {\n    // Déconnexion de la base de données MongoDB\n    const mongoose = require('mongoose');\n    await mongoose.disconnect();\n    console.log('Déconnexion de la base de données réussie');\n  } catch (error) {\n    console.error('Erreur de déconnexion de la base de données:', error);\n  }\n}\n\n// Fonction principale\nasync function main() {\n  await connectToDatabase();\n  const root = ReactDOM.createRoot(document.getElementById('root'));\n  root.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <PersistGate persistor={persistor}>\n          <BrowserRouter>\n            <TailwindProvider>\n              <App />\n            </TailwindProvider>\n          </BrowserRouter>\n        </PersistGate>\n      </Provider>\n    </React.StrictMode>\n  );\n  reportWebVitals();\n}\n\n// Exécuter la fonction principale\nmain();\n\n// Import les routes\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n// Import les composants\nimport Home from './components/Home';\nimport Profile from './components/Profile';\n\n// Créer les routes\nconst routes = (\n  <Switch>\n    <Route path=\"/\" exact component={Home} />\n    <Route path=\"/login\" component={Login} />\n    <Route path=\"/register\" component={Register} />\n    <Route path=\"/profile\" component={Profile} />\n  </Switch>\n);\n\n// Créer le composant App\nfunction App() {\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h1 className=\"text-3xl font-bold\">Todo List</h1>\n      <Switch>\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/profile\" component={Profile} />\n        <Route path=\"/\" exact component={Home} />\n      </Switch>\n    </div>\n  );\n}\n\n// Export les composants\nexport { App, Login, Register, TodoList, TodoForm, Home, Profile };\n", "timestamp": 1766870444.2984378}