{"nom_fichier": "app.py", "code": "# app.py\n\nfrom flask import Flask, render_template, request, jsonify\nfrom flask_bootstrap import Bootstrap\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\nfrom wtforms.validators import DataRequired\nimport json\nimport random\n\napp = Flask(__name__)\nBootstrap(app)\n\n# Structure de données pour le dashboard\ntâches = [\n    {\"id\": 1, \"nom\": \"Tâche 1\", \"statut\": \"en cours\"},\n    {\"id\": 2, \"nom\": \"Tâche 2\", \"statut\": \"terminée\"},\n    {\"id\": 3, \"nom\": \"Tâche 3\", \"statut\": \"en cours\"}\n]\n\n# API pour les données en temps réel\n@app.route(\"/api/tâches\", methods=[\"GET\"])\ndef api_tâches():\n    return jsonify(tâches)\n\n# Route pour la liste interactive des tâches\n@app.route(\"/tâches\", methods=[\"GET\", \"POST\"])\ndef tâches_liste():\n    if request.method == \"POST\":\n        nom = request.form[\"nom\"]\n        statut = request.form[\"statut\"]\n        tâche = {\"id\": len(tâches) + 1, \"nom\": nom, \"statut\": statut}\n        tâches.append(tâche)\n        return jsonify(tâches)\n    return render_template(\"tâches.html\", tâches=tâches)\n\n# Route pour la création, modification et suppression de tâches\n@app.route(\"/tâche/<int:id>\", methods=[\"GET\", \"PUT\", \"DELETE\"])\ndef tâche(id):\n    for tâche in tâches:\n        if tâche[\"id\"] == id:\n            if request.method == \"PUT\":\n                tâche[\"nom\"] = request.json[\"nom\"]\n                tâche[\"statut\"] = request.json[\"statut\"]\n                return jsonify(tâche)\n            elif request.method == \"DELETE\":\n                tâches.remove(tâche)\n                return jsonify({\"message\": \"Tâche supprimée\"})\n            return jsonify(tâche)\n    return jsonify({\"message\": \"Tâche non trouvée\"})\n\n# Route pour les statistiques de progression\n@app.route(\"/statistiques\", methods=[\"GET\"])\ndef statistiques():\n    en_cours = [tâche for tâche in tâches if tâche[\"statut\"] == \"en cours\"]\n    terminées = [tâche for tâche in tâches if tâche[\"statut\"] == \"terminée\"]\n    return jsonify({\"en_cours\": len(en_cours), \"terminées\": len(terminées)})\n\n# Route pour la galerie\n@app.route(\"/galerie\", methods=[\"GET\"])\ndef galerie():\n    return render_template(\"galerie.html\")\n\n# Route pour le dashboard\n@app.route(\"/\", methods=[\"GET\"])\ndef dashboard():\n    return render_template(\"dashboard.html\")\n\n# Structure modulaire pour différentes visualisations\n@app.route(\"/graphiques\", methods=[\"GET\"])\ndef graphiques():\n    return render_template(\"graphiques.html\")\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766328765.9833028}