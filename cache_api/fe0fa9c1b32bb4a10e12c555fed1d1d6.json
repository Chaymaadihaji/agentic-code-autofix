{"nom_fichier": "ui.py", "code": "# ui.py\n\nimport random\nimport string\nfrom flask import Flask, render_template, request, session\nfrom flask_bootstrap import Bootstrap\n\napp = Flask(__name__)\nBootstrap(app)\napp.secret_key = 'secret_key'\n\n# Dictionnaire de mots au hasard\nmots = ['apple', 'banana', 'cherry', 'date', 'elderberry']\n\n# Fonction pour générer un mot au hasard\ndef generer_mot():\n    return random.choice(mots)\n\n# Fonction pour afficher la lettre choisie\ndef afficher_lettre(mot, lettre):\n    mot_list = list(mot)\n    for i in range(len(mot)):\n        if mot_list[i] == lettre:\n            mot_list[i] = lettre.upper()\n    return ''.join(mot_list)\n\n# Fonction pour compter le nombre d'essais\ndef compter_essais(lettre, mot):\n    if lettre in mot:\n        return 0\n    else:\n        return 1\n\n# Route pour la page d'accueil\n@app.route('/')\ndef index():\n    mot = generer_mot()\n    session['mot'] = mot\n    session['essais'] = 0\n    session['lettres'] = []\n    return render_template('index.html')\n\n# Route pour traiter la saisie de la lettre\n@app.route('/traiter', methods=['POST'])\ndef traiter():\n    lettre = request.form['lettre']\n    mot = session['mot']\n    essais = session['essais']\n    lettres = session['lettres']\n    if lettre in lettres:\n        return render_template('index.html', erreur='Vous avez déjà saisi cette lettre !')\n    elif lettre in mot:\n        mot = afficher_lettre(mot, lettre)\n        session['mot'] = mot\n        session['lettres'].append(lettre)\n    else:\n        essais += 1\n        session['essais'] = essais\n        session['lettres'].append(lettre)\n        if essais >= 6:\n            return render_template('game_over.html', mot=mot, essais=essais)\n    return render_template('index.html', mot=mot, essais=essais)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766863634.3938856}