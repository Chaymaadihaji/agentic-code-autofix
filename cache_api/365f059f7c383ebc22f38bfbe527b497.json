{"nom_fichier": "ui.py", "code": "# ui.py\n\nimport random\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Dictionnaire de mots à deviner\nmots_a_deviner = {\n    \"facile\": [\"poulet\", \"fleur\", \"pain\"],\n    \"moyen\": [\"ordinateur\", \"bibliothèque\", \"champignon\"],\n    \"difficile\": [\"astronomie\", \"physique\", \"chimie\"]\n}\n\n# État du jeu\netat_jeu = {\n    \"mot\": \"\",\n    \"lettres_utilisees\": [],\n    \"essais\": 6,\n    \"score\": 0\n}\n\n# Fonction pour générer un mot aléatoire\ndef generer_mot_difficile(niveau):\n    return random.choice(mots_a_deviner[niveau])\n\n# Fonction pour vérifier si une lettre est présente dans le mot\ndef est présente(lettre):\n    return lettre in etat_jeu[\"mot\"]\n\n# Fonction pour gérer le jeu\ndef gérer_jeu():\n    global etat_jeu\n    mot = generer_mot_difficile(\"moyen\")\n    etat_jeu[\"mot\"] = \"_\" * len(mot)\n    etat_jeu[\"lettres_utilisees\"] = []\n    etat_jeu[\"essais\"] = 6\n    etat_jeu[\"score\"] = 0\n\n# Fonction pour afficher le tableau de jeu\ndef afficher_tableau():\n    tableau = []\n    for lettre in etat_jeu[\"mot\"]:\n        tableau.append(\"_\")\n    return \" \".join(tableau)\n\n# Fonction pour afficher les résultats\ndef afficher_resultats():\n    return str(etat_jeu[\"essais\"]) + \" essais restants\"\n\n# Fonction pour gérer la saisie de lettres\ndef saisie_lettre(lettre):\n    global etat_jeu\n    if lettre in etat_jeu[\"lettres_utilisees\"]:\n        return False\n    etat_jeu[\"lettres_utilisees\"].append(lettre)\n    if est présente(lettre):\n        for i, m in enumerate(etat_jeu[\"mot\"]):\n            if m == lettre:\n                etat_jeu[\"mot\"] = etat_jeu[\"mot\"][:i] + lettre + etat_jeu[\"mot\"][i+1:]\n    else:\n        etat_jeu[\"essais\"] -= 1\n    if \"_\" not in etat_jeu[\"mot\"]:\n        etat_jeu[\"score\"] += 1\n        gérer_jeu()\n    return True\n\n# Route pour afficher le formulaire\n@app.route(\"/\")\ndef formulaire():\n    return render_template(\"formulaire.html\", tableau=afficher_tableau(), resultats=afficher_resultats())\n\n# Route pour gérer la saisie de lettres\n@app.route(\"/saisie\", methods=[\"POST\"])\ndef saisie():\n    lettre = request.form[\"lettre\"]\n    if saisie_lettre(lettre):\n        return render_template(\"formulaire.html\", tableau=afficher_tableau(), resultats=afficher_resultats())\n    else:\n        return render_template(\"erreur.html\", message=\"Trop d'essais !\")\n\nif __name__ == \"__main__\":\n    gérer_jeu()\n    app.run(debug=True)\n", "timestamp": 1766831615.2525961}