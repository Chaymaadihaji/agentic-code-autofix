{"nom_fichier": "models.py", "code": "python\n# models.py\nfrom flask_sqlalchemy import SQLAlchemy\n\ndb = SQLAlchemy()\n\nclass Task(db.Model):\n    \"\"\"Classe représentant une tâche à effectuer.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    description = db.Column(db.String(200), nullable=True)\n    completed = db.Column(db.Boolean, nullable=False, default=False)\n\n    def __repr__(self):\n        return f'<Task {self.title}>'\n\nclass TodoList:\n    def __init__(self, app):\n        self.app = app\n        self.db = self.init_db()\n\n    def init_db(self):\n        db.init_app(self.app)\n        return db\n\n    def get_tasks(self):\n        try:\n            tasks = Task.query.all()\n            return [{\"id\": t.id, \"title\": t.title, \"completed\": t.completed} for t in tasks]\n        except Exception as e:\n            return str(e)\n\n    def add_task(self, title, description=None):\n        try:\n            task = Task(title=title, description=description, completed=False)\n            db.session.add(task)\n            db.session.commit()\n            return {\"id\": task.id, \"title\": task.title, \"completed\": task.completed}\n        except Exception as e:\n            db.session.rollback()\n            return str(e)\n\n    def update_task(self, id, title=None, description=None, completed=None):\n        try:\n            task = Task.query.get(id)\n            if title:\n                task.title = title\n            if description:\n                task.description = description\n            if completed is not None:\n                task.completed = completed\n            db.session.commit()\n            return {\"id\": task.id, \"title\": task.title, \"completed\": task.completed}\n        except Exception as e:\n            db.session.rollback()\n            return str(e)\n\n    def delete_task(self, id):\n        try:\n            task = Task.query.get(id)\n            db.session.delete(task)\n            db.session.commit()\n            return True\n        except Exception as e:\n            return str(e)\n", "langage": "python", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767109062.0446658, "tentative": 4}