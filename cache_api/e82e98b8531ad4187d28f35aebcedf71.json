{"nom_fichier": "data_processor.py", "code": "# data_processor.py\nimport random\nfrom flask import Flask, render_template, request\nimport json\n\napp = Flask(__name__)\n\n# Simuler des données pour le dashboard\ndata = [\n    {\"id\": 1, \"nom\": \"Tâche 1\", \"état\": \"en cours\", \"progression\": 50},\n    {\"id\": 2, \"nom\": \"Tâche 2\", \"état\": \"terminé\", \"progression\": 100},\n    {\"id\": 3, \"nom\": \"Tâche 3\", \"état\": \"en cours\", \"progression\": 75},\n]\n\n# API pour les données en temps réel\n@app.route('/data', methods=['GET'])\ndef get_data():\n    return json.dumps(data)\n\n# Calcul des statistiques/métriques\n@app.route('/stats', methods=['GET'])\ndef get_stats():\n    stats = {\n        \"taches_en_cours\": len([tache for tache in data if tache[\"état\"] == \"en cours\"]),\n        \"taches_termines\": len([tache for tache in data if tache[\"état\"] == \"terminé\"]),\n        \"moyenne_progression\": sum([tache[\"progression\"] for tache in data]) / len(data)\n    }\n    return json.dumps(stats)\n\n# Création, modification et suppression de tâches\n@app.route('/tache', methods=['POST'])\ndef create_tache():\n    new_tache = {\n        \"id\": len(data) + 1,\n        \"nom\": request.json[\"nom\"],\n        \"état\": \"en cours\",\n        \"progression\": random.randint(0, 100)\n    }\n    data.append(new_tache)\n    return json.dumps(new_tache)\n\n@app.route('/tache/<int:id>', methods=['PUT'])\ndef update_tache(id):\n    for tache in data:\n        if tache[\"id\"] == id:\n            tache[\"nom\"] = request.json[\"nom\"]\n            tache[\"état\"] = request.json[\"état\"]\n            tache[\"progression\"] = request.json[\"progression\"]\n            return json.dumps(tache)\n    return \"Tâche non trouvée\", 404\n\n@app.route('/tache/<int:id>', methods=['DELETE'])\ndef delete_tache(id):\n    global data\n    data = [tache for tache in data if tache[\"id\"] != id]\n    return \"Tâche supprimée\"\n\n# Route pour la page d'accueil\n@app.route('/')\ndef index():\n    return render_template('index.html', data=data)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766328786.9949074}