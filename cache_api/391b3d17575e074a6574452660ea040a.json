{"nom_fichier": "game.py", "code": "import random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Liste de mots à deviner\nmots_deviner = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\"]\n\n# Statut du jeu\nstatut_jeu = {\n    \"mot\": \"\",\n    \"lettres\": [],\n    \"erreurs\": 0,\n    \"score\": 0\n}\n\ndef generer_mot_deviner():\n    \"\"\"Génère un mot à deviner au hasard\"\"\"\n    return random.choice(mots_deviner)\n\ndef verifier_lettre(lette):\n    \"\"\"Vérifie si la lettre est dans le mot à deviner\"\"\"\n    return lettre in statut_jeu[\"mot\"]\n\ndef verifier_mot(mot):\n    \"\"\"Vérifie si le mot est égal au mot à deviner\"\"\"\n    return mot == statut_jeu[\"mot\"]\n\n@app.route(\"/\", methods=[\"GET\", \"POST\"])\ndef jeu():\n    global statut_jeu\n    \n    if request.method == \"POST\":\n        lettre = request.form[\"lettre\"]\n        \n        # Vérifie si la lettre est déjà saisie\n        if lettre in statut_jeu[\"lettres\"]:\n            return render_template(\"index.html\", statut_jeu=statut_jeu, erreur=\"Lettre déjà saisie\")\n        \n        # Vérifie si la lettre est dans le mot à deviner\n        if verifier_lettre(lettre):\n            statut_jeu[\"lettres\"].append(lettre)\n            if len(statut_jeu[\"lettres\"]) == len(statut_jeu[\"mot\"]):\n                statut_jeu[\"score\"] += 1\n                statut_jeu[\"mot\"] = generer_mot_deviner()\n                statut_jeu[\"lettres\"] = []\n        else:\n            statut_jeu[\"erreurs\"] += 1\n            statut_jeu[\"lettres\"].append(lettre)\n        \n        # Vérifie si le mot à deviner est égal au mot saisi\n        if verifier_mot(request.form[\"mot\"]):\n            statut_jeu[\"score\"] += 1\n            statut_jeu[\"mot\"] = generer_mot_deviner()\n            statut_jeu[\"lettres\"] = []\n    \n    # Génère un mot à deviner au hasard\n    if not statut_jeu[\"mot\"]:\n        statut_jeu[\"mot\"] = generer_mot_deviner()\n    \n    return render_template(\"index.html\", statut_jeu=statut_jeu)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831397.7697144}