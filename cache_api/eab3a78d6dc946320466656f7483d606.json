{"nom_fichier": "src/index.tsx", "code": "typescript\n// src/index.tsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, configureStore } from '@reduxjs/toolkit';\nimport { rootReducer } from './reducers';\nimport App from './App';\nimport 'tailwindcss/tailwind.css';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'http://localhost:8000/api';\n\ninterface RootState {\n  reducer: any;\n}\n\nconst store = configureStore({ reducer: rootReducer });\n\ninterface AppProps {\n  className?: string;\n}\n\nfunction AppWrapper({ children, className }: AppProps) {\n  return (\n    <div className={className}>\n      {children}\n    </div>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppWrapper className=\"min-h-screen p-4\">\n        <App />\n      </AppWrapper>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// pagination\ninterface PaginateResponse<T> {\n  items: T[];\n  metaData: {\n    page: number;\n    limit: number;\n    total: number;\n  };\n}\n\nconst paginate = async <T>(\n  fetchFunc: () => Promise<PaginateResponse<T>>,\n  limit: number,\n  pageNumber: number\n): Promise<PaginateResponse<T>> => {\n  const response = await fetchFunc();\n  if (pageNumber <= response.metaData.page) {\n    const metaData = response.metaData;\n    const offset = (pageNumber - 1) * metaData.limit;\n    return await fetchFunc();\n  }\n  return response;\n};\n\n// exemple d'utilisation\nconst fetchUsers = async () => {\n  const response = await axios.get<PaginateResponse<{ id: number; name: string }>>(\n    `/users?limit=10&page=1`\n  );\n  return response.data;\n};\n\nconst fetchMoreUsers = (pageNumber = 2) =>\n  paginate(fetchUsers, 10, pageNumber);\n\nfetchMoreUsers(2).then((response) => {\n  if (response.metaData.total > response.metaData.limit * 2) {\n    return fetchMoreUsers(\n      parseInt(response.metaData.page.toString()) + 1\n    ).then((responseTwo) => {\n      console.log(responseTwo);\n      return responseTwo;\n    });\n  }\n  console.log(response);\n  // Do something with the response\n  return response;\n});\n", "langage": "typescript", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767106276.043283, "tentative": 4}