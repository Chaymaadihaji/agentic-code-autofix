{"nom_fichier": "src/index.tsx", "code": "typescript\n// src/index.tsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, configureStore } from '@reduxjs/toolkit';\nimport { reducer as appReducer } from './reducers';\nimport App from './App';\n\n// Configuration Redux\nconst store = configureStore({\n  reducer: {\n    app: appReducer,\n  },\n});\n\n// Connexion à l'API REST\ninterface APIResponse {\n  total: number;\n  results: any[];\n}\n\nconst baseUrl = 'https://api.example.com';\nconst fetchApi = async (url: string): Promise<APIResponse> => {\n  try {\n    const response = await fetch(url);\n    const data: APIResponse = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Erreur de connexion à l\\'API', error);\n    throw error;\n  }\n};\n\n// Pagination\ninterface Pagination {\n  limit: number;\n  offset: number;\n}\n\nconst fetchPaginatedData = async (url: string, pagination: Pagination): Promise<APIResponse> => {\n  try {\n    const response = await fetch(`${url}?limit=${pagination.limit}&offset=${pagination.offset}`);\n    const data: APIResponse = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Erreur de pagination', error);\n    throw error;\n  }\n};\n\n// Fonction principale\nconst AppContainer = () => {\n  const [pagination, setPagination] = React.useState<Pagination>({ limit: 10, offset: 0 });\n  const [data, setData] = React.useState<APIResponse | null>(null);\n  const [error, setError] = React.useState<string | null>(null);\n\n  const handleFetch = async () => {\n    try {\n      const response = await fetchApi(baseUrl);\n      setData(response);\n    } catch (error) {\n      setError('Erreur de connexion à l\\'API');\n    }\n  };\n\n  const handlePaginate = async () => {\n    try {\n      const response = await fetchPaginatedData(baseUrl, pagination);\n      setData(response);\n    } catch (error) {\n      setError('Erreur de pagination');\n    }\n  };\n\n  const handleIncrementOffset = () => {\n    setPagination((prevPagination) => ({ ...prevPagination, offset: prevPagination.offset + 10 }));\n  };\n\n  return (\n    <div>\n      <button onClick={handleFetch}>Fetch data</button>\n      <button onClick={handlePaginate}>Paginate data</button>\n      <button onClick={handleIncrementOffset}>Increment offset</button>\n      {error ? <p>{error}</p> : <pre>{JSON.stringify(data, null, 2)}</pre>}\n    </div>\n  );\n};\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>,\n  document.getElementById('root')\n);\n", "langage": "typescript", "bugs_introduits": [], "corrections_appliquees": [], "timestamp": 1767010024.9886093, "tentative": 2}