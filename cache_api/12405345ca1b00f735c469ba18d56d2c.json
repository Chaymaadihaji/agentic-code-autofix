{"nom_fichier": "requirements.txt", "code": "from flask import Flask, render_template, request, redirect, url_for\nfrom flask_bootstrap import Bootstrap\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, SubmitField\nfrom wtforms.validators import DataRequired\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'secret_key'\nBootstrap(app)\n\nclass TaskForm(FlaskForm):\n    name = StringField('Nom de la tâche', validators=[DataRequired()])\n    submit = SubmitField('Ajouter')\n\nclass Dashboard:\n    def __init__(self):\n        self.tasks = pd.DataFrame(columns=['Nom', 'Statut'])\n        self.stats = {'En cours': 0, 'Terminé': 0, 'En attente': 0}\n\n    def add_task(self, name):\n        new_row = pd.DataFrame({'Nom': [name], 'Statut': ['En cours']})\n        self.tasks = pd.concat([self.tasks, new_row])\n        self.stats['En cours'] += 1\n\n    def update_status(self, name, status):\n        self.tasks.loc[self.tasks['Nom'] == name, 'Statut'] = status\n        if status == 'Terminé':\n            self.stats['Terminé'] += 1\n        elif status == 'En attente':\n            self.stats['En attente'] += 1\n\n    def get_stats(self):\n        return self.stats\n\ndashboard = Dashboard()\n\n@app.route('/', methods=['GET', 'POST'])\ndef index():\n    form = TaskForm()\n    if form.validate_on_submit():\n        dashboard.add_task(form.name.data)\n        return redirect(url_for('index'))\n    return render_template('index.html', form=form, tasks=dashboard.tasks, stats=dashboard.get_stats())\n\n@app.route('/stats')\ndef stats():\n    fig, ax = plt.subplots()\n    ax.bar(dashboard.stats.keys(), dashboard.stats.values())\n    plt.savefig('static/stats.png')\n    return redirect(url_for('static', filename='stats.png'))\n\nif __name__ == '__main__':\n    app.run(debug=True)\n", "timestamp": 1766328365.933995}