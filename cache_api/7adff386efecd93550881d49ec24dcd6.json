{"nom_fichier": "main.py", "code": "# main.py\n\nimport random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Fichier de données pour les mots à deviner\nmots_json = 'mots.json'\n\n# Chargement des mots à deviner depuis le fichier JSON\nwith open(mots_json, 'r') as f:\n    mots = json.load(f)\n\n@app.route('/')\ndef index():\n    mot_a_deviner = random.choice(list(mots.keys()))\n    etat = {'lettres': [], 'essais': 0}\n    score = 0\n    return render_template('index.html', mot_a_deviner=mot_a_deviner, etat=etat, score=score)\n\n@app.route('/saisie', methods=['POST'])\ndef saisie():\n    mot_a_deviner = request.form['mot_a_deviner']\n    lettre = request.form['lettre']\n    etat = request.form['etat']\n    essais = int(request.form['essais'])\n    score = int(request.form['score'])\n\n    if lettre in mot_a_deviner:\n        etat['lettres'].append(lettre)\n        if len(etat['lettres']) == len(mot_a_deviner):\n            score += 10\n            return render_template('gagne.html', mot_a_deviner=mot_a_deviner, score=score)\n    else:\n        etat['essais'] += 1\n        if etat['essais'] == 6:\n            return render_template('perdu.html', mot_a_deviner=mot_a_deviner, score=score)\n\n    return render_template('index.html', mot_a_deviner=mot_a_deviner, etat=etat, score=score)\n\n@app.route('/gagne')\ndef gagne():\n    return render_template('gagne.html')\n\n@app.route('/perdu')\ndef perdu():\n    return render_template('perdu.html')\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766830231.3601682}