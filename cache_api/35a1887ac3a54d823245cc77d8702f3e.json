{"nom_fichier": "player.py", "code": "# player.py\n\nimport random\nimport json\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Fichier de données contenant les mots à deviner\nwith open('mots.json') as f:\n    mots = json.load(f)\n\n# État du jeu\netat_jeu = {\n    'mot': random.choice(mots),\n    'essais': 6,\n    'lettres_utilisees': [],\n    'score': 0\n}\n\n# Fonction de gestion de l'état du jeu\ndef update_etat_jeu(lettre):\n    global etat_jeu\n    etat_jeu['lettres_utilisees'].append(lettre)\n    if lettre not in etat_jeu['mot']:\n        etat_jeu['essais'] -= 1\n    if etat_jeu['essais'] == 0:\n        etat_jeu['score'] = 0\n        etat_jeu['mot'] = random.choice(mots)\n        etat_jeu['essais'] = 6\n        etat_jeu['lettres_utilisees'] = []\n    elif lettre in etat_jeu['mot']:\n        etat_jeu['score'] += 1\n\n# Route pour afficher le formulaire\n@app.route('/', methods=['GET'])\ndef index():\n    return render_template('index.html', etat_jeu=etat_jeu)\n\n# Route pour traiter la saisie de lettre\n@app.route('/', methods=['POST'])\ndef traiter_saisie():\n    lettre = request.form['lettre']\n    update_etat_jeu(lettre)\n    return render_template('index.html', etat_jeu=etat_jeu)\n\n# Route pour afficher le score\n@app.route('/score', methods=['GET'])\ndef afficher_score():\n    return render_template('score.html', etat_jeu=etat_jeu)\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766831597.1313493}