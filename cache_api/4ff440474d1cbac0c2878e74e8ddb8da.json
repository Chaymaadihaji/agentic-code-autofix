{"nom_fichier": "main.py", "code": "import random\nimport string\nfrom flask import Flask, render_template, request\n\napp = Flask(__name__)\n\n# Liste de mots pour le jeu\nmots = [\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\"]\n\n# Fichier de données pour le score/niveau\ndonnees_score = {\"score\": 0, \"niveau\": 1}\n\n# Fichier de données pour le mot à deviner\ndonnees_mot = {\"mot\": random.choice(mots), \"tentatives\": 0, \"lettres_proposees\": []}\n\n# Fonction pour vérifier si une lettre est dans le mot\ndef est_dans_mot(lettre):\n    return lettre in donnees_mot[\"mot\"]\n\n# Fonction pour afficher le tableau de jeu\ndef afficher_tableau():\n    tableau = \"\"\n    for lettre in donnees_mot[\"mot\"]:\n        if lettre in donnees_mot[\"lettres_proposees\"]:\n            tableau += f\"<span style='color: green'>{lettre}</span> \"\n        else:\n            tableau += f\"<span style='color: red'>{lettre}</span> \"\n    return tableau\n\n# Fonction pour afficher le score\ndef afficher_score():\n    return donnees_score[\"score\"]\n\n# Fonction pour afficher le niveau\ndef afficher_niveau():\n    return donnees_score[\"niveau\"]\n\n# Route pour afficher le formulaire de jeu\n@app.route(\"/\")\ndef jeu():\n    return render_template(\"jeu.html\", tableau=afficher_tableau(), score=afficher_score(), niveau=afficher_niveau())\n\n# Route pour traiter la saisie de la lettre\n@app.route(\"/traiter\", methods=[\"POST\"])\ndef traiter():\n    lettre = request.form[\"lettre\"]\n    donnees_mot[\"tentatives\"] += 1\n    if est_dans_mot(lettre):\n        donnees_score[\"score\"] += 1\n        donnees_mot[\"lettres_proposees\"].append(lettre)\n    else:\n        donnees_score[\"niveau\"] += 1\n    return render_template(\"jeu.html\", tableau=afficher_tableau(), score=afficher_score(), niveau=afficher_niveau())\n\n# Route pour afficher le score final\n@app.route(\"/fin\")\ndef fin():\n    return render_template(\"fin.html\", score=donnees_score[\"score\"])\n\nif __name__ == \"__main__\":\n    app.run(debug=True)\n", "timestamp": 1766861897.764745}